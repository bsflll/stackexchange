{
    "title": "Unsquashfs fails partways with gzip error code -5",
    "link": "https://reverseengineering.stackexchange.com/questions/17208/unsquashfs-fails-partways-with-gzip-error-code-5",
    "content": "I have been trying to unsquash a system.sfs file in order to modify the directories. however, <pre><code>unsquashfs system.sfs</code></pre> returns the following output:\n<pre><code>Parallel unsquashfs: Using 8 processors\n1 inodes (16000 blocks) to write\n\n[===========================================|                                        ]  8386/16000  52%\ngzip uncompress failed with error code -5\n[=============================================================-                      ] 11906/16000  74%\n</code></pre>\nAnd it keeps hanging there. After I force the termination of the unsquashing process, I get a single <pre><code>system.img</code></pre> file, however, it is partial and can't be processed as a valid archive.\nI have tried following the advice in this article, none of the tools helped solve the problem.\n<pre><code>hexdump system.img</code></pre> doesn't produce any unusual output (except the address where it stopped maybe [0x4CCA0000]?):\n<pre><code>4cc9ff30  40 00 00 00 00 00 00 00  00 00 03 7d 95 99 9d a1  |@..........}....|\n4cc9ff40  a5 00 00 00 00 00 00 00  00 04 74 24 2c 00 00 00  |..........t$,...|\n4cc9ff50  00 00 00 00 00 00 00 00  05 77 34 3c 00 00 00 00  |.........w4<....|\n4cc9ff60  00 00 00 00 00 00 00 06  7e 95 9d 00 00 00 00 00  |........~.......|\n4cc9ff70  00 00 00 00 00 00 80 80  2a 3a 6a 7a 8a 9b 00 00  |........*:jz....|\n4cc9ff80  00 00 00 00 00 82 82 2a  3a 6a 7a 8a 9b 00 00 00  |.......*:jz.....|\n4cc9ff90  00 00 00 00 81 81 32 72  00 00 00 00 00 00 00 00  |......2r........|\n4cc9ffa0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|\n4cc9ffb0  00 00 00 00 00 00 00 00  00 00 00 00 06 10 30 78  |..............0x|\n4cc9ffc0  99 50 00 00 00 00 00 01  01 01 01 02 02 03 03 03  |.P..............|\n4cc9ffd0  04 04 04 05 05 06 06 06  0a 0a 0a 0b 0b 0c 0c 0c  |................|\n4cc9ffe0  07 07 07 07 08 08 09 09  09 0d 0d 0d 0e 0e 0f 0f  |................|\n4cc9fff0  0f 04 04 04 05 05 06 06  06 10 10 04 04 04 05 05  |................|\n4cca0000\n</code></pre>\nWhen I issued <pre><code>binwalk system.img</code></pre>, the output looked rather usual until the end of the file, which produced:\n<pre><code>DECIMAL       HEXADECIMAL     DESCRIPTION\n--------------------------------------------------------------------------------\n1062442       0x10362A        Unix path: /../gm200/acr/bl.bin\n1062698       0x10372A        Unix path: /../gm200/acr/ucode_load.bin\n1062954       0x10382A        Unix path: /../gm200/acr/ucode_unload.bin\n1063466       0x103A2A        Unix path: /../gm200/gr/fecs_bl.bin\n1063978       0x103C2A        Unix path: /../gm200/gr/fecs_inst.bin\n1064490       0x103E2A        Unix path: /../gm200/gr/gpccs_bl.bin\n.\n.\n.\n1045975763    0x3E5852D3      Unix path: /android/internal/net/NetworkStatsFactory\n1045982563    0x3E586D63      Unix path: /android/internal/os/Zygote\n1046052864    0x3E598000      ELF, 32-bit LSB shared object, ARM, version 1 (SYSV)\n1046110595    0x3E5A6183      mcrypt 2.2 encrypted data, algorithm: blowfish-448, mode: CBC, keymode: 8bit\n1046294454    0x3E5D2FB6      POSIX tar archive, owner user name: \"SKIP_PADDING FAILED at line %d\", owner group name: \"hunk header at %d has invalid ty\"\n</code></pre>\nI couldn't find any information whatsoever about the aforementioned issues.\nAny insights on how I can address the problem?\n",
    "votes": "1",
    "answers": 0,
    "views": "387",
    "tags": [
        "linux",
        "file-format",
        "decompress"
    ],
    "user": "Elian Kamal",
    "time": "Jun 17, 2020 at 9:54",
    "comments": [],
    "answers_data": []
}