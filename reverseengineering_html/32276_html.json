{
    "title": "Angr with 'No bytes in memory for block starting at'",
    "link": "https://reverseengineering.stackexchange.com/questions/32276/angr-with-no-bytes-in-memory-for-block-starting-at",
    "content": "<html><body><div class=\"s-prose js-post-body\" itemprop=\"text\">\n <p>\n  I am playing with the project here:\n  <a href=\"https://github.com/foreverbell/angr-rust-example\" rel=\"nofollow noreferrer\">\n   https://github.com/foreverbell/angr-rust-example\n  </a>\n </p>\n <p>\n  After running\n  <code>\n   make solve\n  </code>\n  , I cannot get the desired output.\n </p>\n <p>\n  I added\n  <code>\n   print(sm.errored)\n  </code>\n  to the end of the script and get\n </p>\n <pre><code>...\n65 <SimulationManager with 1 active> 1\n66 <SimulationManager with all stashes empty (1 errored)> 0\n[<State errored with \"No bytes in memory for block starting at 0x23930.\">]\n</code></pre>\n <p>\n  I played around with several other examples and the same problem\n  <code>\n   'No bytes in memory for block starting at'\n  </code>\n  occured.\n </p>\n <p>\n  I changed\n  <code>\n   full_init_state\n  </code>\n  to\n  <code>\n   entry_state\n  </code>\n  in the code, and the code works somewhat normally (I am able to get the output).\n </p>\n <p>\n  This is the full code I am using:\n </p>\n <pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python\n\nimport angr\nimport sys\n\nif sys.argv[1] == \"main\":\n  p = angr.Project(\"build/main\")\nelif sys.argv[1] == \"bench\":\n  p = angr.Project(\"build/bench\")\n\nstate = p.factory.entry_state()\nstate.options.add(angr.options.BYPASS_UNSUPPORTED_SYSCALL)\n\nsm = p.factory.simulation_manager(state)\nsm.use_technique(angr.exploration_techniques.dfs.DFS())\n\ndep = 0\nwhile len(sm.active) > 0:\n  dep += 1\n  sm.step()\n  print(dep, sm, len(sm.deadended + sm.active))\n  for s in sm.deadended + sm.active:\n    stdin = s.posix.dumps(0)\n    stdout = s.posix.dumps(1)\n    if stdin and (b\"yes\" in stdout):\n      print(stdin)\n      exit()\n\nprint(sm.errored)\n</code></pre>\n <p>\n  I do not know if it is a problem with my installation of angr or if something changed that breaks\n  <code>\n   full_init_state\n  </code>\n  , but I found that I frequently encounter 'No bytes in memory for block starting at' on other large binaries even with\n  <code>\n   entry_state\n  </code>\n  . So I want to know if I am doing something wrong with my installation or workflow here.\n </p>\n <p>\n  For the record, I am using\n  <code>\n   angr_dev\n  </code>\n  for installation of angr.\n </p>\n</div>\n</body></html>",
    "votes": "2",
    "answers": 0,
    "views": "188",
    "tags": [
        "angr"
    ],
    "user": "zhtluo",
    "time": "Sep 9, 2023 at 22:32",
    "comments": [],
    "answers_data": []
}