{
    "title": "I wonder about the SPI memory access [closed]",
    "link": "https://reverseengineering.stackexchange.com/questions/8355/i-wonder-about-the-spi-memory-access",
    "content": "<html><body><div class=\"s-prose js-post-body\" itemprop=\"text\">\n <div>\n  <aside class=\"s-notice s-notice__info post-notice js-post-notice mb16\" role=\"status\">\n   <div class=\"d-flex fd-column fw-nowrap\">\n    <div class=\"d-flex fw-nowrap\">\n     <div class=\"flex--item wmn0 fl1 lh-lg\">\n      <div class=\"flex--item fl1 lh-lg\">\n       <div>\n        <b>\n         Closed\n        </b>\n        . This question needs\n        <a href=\"/help/closed-questions\">\n         details or clarity\n        </a>\n        . It is not currently accepting answers.\n       </div>\n      </div>\n     </div>\n    </div>\n   </div>\n   <hr class=\"my12 outline-none baw0 bb bc-blue-400\"/>\n   <div class=\"fw-nowrap fc-black-500\">\n    <div class=\"d-flex fd-column lh-md\">\n     <div class=\"mb0 d-flex\">\n      <div class=\"flex--item mr8\">\n       <svg aria-hidden=\"true\" class=\"svg-icon iconLightbulb\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\">\n        <path d=\"M15 6.38A6.5 6.5 0 0 0 7.78.04h-.02A6.5 6.5 0 0 0 2.05 5.6a6.3 6.3 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.3 6.3 0 0 0 15 6.37M4.03 5.85A4.5 4.5 0 0 1 8 2.02a4.5 4.5 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.3 4.3 0 0 1-1.64-3.94M10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2z\">\n        </path>\n       </svg>\n      </div>\n      <p>\n       <b>\n        Want to improve this question?\n       </b>\n       Add details and clarify the problem by\n       <a href=\"/posts/8355/edit\">\n        editing this post\n       </a>\n       .\n      </p>\n     </div>\n     <div class=\"mb0 mt6 d-flex\">\n      <p class=\"ml24 pl2\">\n       Closed\n       <span class=\"relativetime\" title=\"2015-03-04 08:34:37Z\">\n        10 years ago\n       </span>\n       .\n      </p>\n     </div>\n     <div class=\"ml24 pl2\">\n     </div>\n    </div>\n   </div>\n   <div class=\"mt24 d-flex gsx gs8\">\n    <a class=\"s-btn s-btn__outlined flex--item js-post-notice-edit-post\" href=\"/posts/8355/edit\">\n     Improve this question\n    </a>\n   </div>\n  </aside>\n </div>\n <p>\n  Good evening.\n </p>\n <p>\n  I have a question.\n </p>\n <p>\n  I have been using router has failed.\n </p>\n <p>\n  I would like to proceed with the SPI memory dump.\n </p>\n <p>\n  And I have connected to the SPI memory in the router board using the Bus Pirate.\n </p>\n <p>\n  Do I have to connect power to the router board?\n </p>\n <p>\n  Bus Pirate do you only need to connect a power source?\n </p>\n <p>\n  Thanks\n </p>\n <p>\n  <img alt=\"enter image description here\" src=\"https://i.sstatic.net/XzBE5.jpg\"/>\n </p>\n <p>\n  <img alt=\"enter image description here\" src=\"https://i.sstatic.net/gqpRg.png\"/>\n </p>\n</div>\n</body></html>",
    "votes": "0",
    "answers": 1,
    "views": "189",
    "tags": [
        "spi"
    ],
    "user": "malware",
    "time": "10 years ago",
    "comments": [],
    "answers_data": [
        {
            "content": "<html><body><div class=\"s-prose js-post-body\" itemprop=\"text\">\n <p>\n  This can be a little awkward from time to time.\n </p>\n <p>\n  There are several ways this can pan out. In approximate order of lazyness:\n </p>\n <ol>\n  <li>\n   You allow the router to provide power and the Bus Pirate attempts to drive the CS, clock, MOSI and reads MISO.\n  </li>\n </ol>\n <p>\n  The problem here will be that you need the master CS and clock to be in a high-impedance state for this to work. Because the master knows it will be driving these signals, this isn't always the case. For power saving purposes though, a lot of masters will let these go high impedance.\n </p>\n <p>\n  You also rely on the master not responding in anyway to unprompted changes in MISO. If the master sees a change of MISO and responds, you will end up with garbage.\n </p>\n <ol start=\"2\">\n  <li>\n   You allow the Bus Pirate to provide power.\n  </li>\n </ol>\n <p>\n  Sometimes this works when 1 fails. This relies on the circuit somehow isolating the power supply to the memory device from the master of the SPI bus. You end up powering the memory device and not the master. Bigger boards sometimes isolate the power supplies, but often you'll just end up in the same situation as 1.\n </p>\n <ol start=\"3\">\n  <li>\n   Hope the device reads the entire useful memory of the device and sniff bus.\n  </li>\n </ol>\n <p>\n  Quite a lot of routers using SPI memory for settings or firmware read the entire device sequentially at start-up, or if you issue a command to write settings to the device they will write it out. Alternatively, most devices will eventually read all of the memory addresses they actually need, and you can sniff these and reconstruct the memory.\n </p>\n <ol start=\"4\">\n  <li>\n   Cut the power between the memory device and master, use Bus Pirate for power.\n  </li>\n </ol>\n <p>\n  Sometimes there is a very easy place to cut the power between the memory device and master. You probably want it to be repairable.\n </p>\n <ol start=\"5\">\n  <li>\n   Desolder the entire memory device and dump it.\nIf all the others fail, you need to do this.\n  </li>\n </ol>\n</div>\n</body></html>",
            "votes": "1",
            "user": "Cybergibbons",
            "time": "Mar 1, 2015 at 22:37",
            "is_accepted": false,
            "comments": []
        }
    ]
}