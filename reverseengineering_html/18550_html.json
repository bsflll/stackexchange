{
    "title": "Please edit this .exe file. I beg you. At least tell me what can be done(No general answers) Specific please [closed]",
    "link": "https://reverseengineering.stackexchange.com/questions/18550/please-edit-this-exe-file-i-beg-you-at-least-tell-me-what-can-be-doneno-gene",
    "content": "<html><body><div class=\"s-prose js-post-body\" itemprop=\"text\">\n <div>\n  <aside class=\"s-notice s-notice__info post-notice js-post-notice mb16\" role=\"status\">\n   <div class=\"d-flex fd-column fw-nowrap\">\n    <div class=\"d-flex fw-nowrap\">\n     <div class=\"flex--item wmn0 fl1 lh-lg\">\n      <div class=\"flex--item fl1 lh-lg\">\n       <div>\n        <b>\n         Closed.\n        </b>\n        This question is\n        <a href=\"/help/closed-questions\">\n         off-topic\n        </a>\n        . It is not currently accepting answers.\n       </div>\n      </div>\n     </div>\n    </div>\n   </div>\n   <hr class=\"my12 outline-none baw0 bb bc-blue-400\"/>\n   <div class=\"fw-nowrap fc-black-500\">\n    <div class=\"d-flex fd-column lh-md\">\n     <div class=\"mb0 d-flex\">\n      <div class=\"flex--item mr8\">\n       <svg aria-hidden=\"true\" class=\"svg-icon iconLightbulb\" height=\"18\" viewbox=\"0 0 18 18\" width=\"18\">\n        <path d=\"M15 6.38A6.5 6.5 0 0 0 7.78.04h-.02A6.5 6.5 0 0 0 2.05 5.6a6.3 6.3 0 0 0 2.39 5.75c.49.39.76.93.76 1.5v.24c0 1.07.89 1.9 1.92 1.9h2.75c1.04 0 1.92-.83 1.92-1.9v-.2c0-.6.26-1.15.7-1.48A6.3 6.3 0 0 0 15 6.37M4.03 5.85A4.5 4.5 0 0 1 8 2.02a4.5 4.5 0 0 1 5 4.36 4.3 4.3 0 0 1-1.72 3.44c-.98.74-1.5 1.9-1.5 3.08v.1H7.2v-.14c0-1.23-.6-2.34-1.53-3.07a4.3 4.3 0 0 1-1.64-3.94M10 18a1 1 0 0 0 0-2H7a1 1 0 1 0 0 2z\">\n        </path>\n       </svg>\n      </div>\n      <p>\n       Questions asking for help\n       <b>\n        reverse-engineering a specific system\n       </b>\n       are off-topic unless they demonstrate an understanding of the concepts involved and clearly identify a specific problem.\n      </p>\n     </div>\n     <div class=\"mb0 mt6 d-flex\">\n      <p class=\"ml24 pl2\">\n       Closed\n       <span class=\"relativetime\" title=\"2018-06-19 09:04:12Z\">\n        6 years ago\n       </span>\n       .\n      </p>\n     </div>\n     <div class=\"ml24 pl2\">\n     </div>\n    </div>\n   </div>\n   <div class=\"mt24 d-flex gsx gs8\">\n    <a class=\"s-btn s-btn__outlined flex--item js-post-notice-edit-post\" href=\"/posts/18550/edit\">\n     Improve this question\n    </a>\n   </div>\n  </aside>\n </div>\n <p>\n  There is this game called Mafia 2 and since its release modders hve been trying to access encrypted files in the game. It was not until the years 2013 and 2014 that a Russian modder that goes by the name of Y.u.s.i.k created programs with the sole purpose of decompiling particular files in the game. One of these programs is the FrameRes_Editor.exe, it gives users the ability to modify certain components of selected vehicles in the game via the alteration of a Frameresource,bin file that is located inside the selected car file.. However, whenever I try to open car files, I receive an error notification that prevents me from saving any work performed. I am always met with an error detection whenever I try to edit a car: \" value was either too large or too small \".\n </p>\n <p>\n  <a href=\"http://img.playground.ru/images/5/9/Capture_FrameResource_Error_Possiblly_Faulty_Program.PNG\" rel=\"nofollow noreferrer\">\n   http://img.playground.ru/images/5/9/Capture_FrameResource_Error_Possiblly_Faulty_Program.PNG\n  </a>\n </p>\n <p>\n  There are files that were created by the Mafia 2 developers and this program will even classify the work of these professionals as erroneous, incorrect. Some example of this are the \"jefferson_provincial.sds\" and \"smith_200_pha.sds\" file. The program will even detect errors in unmodified content. I did nothing to the \"jefferson_provincial.sds\", the program detects an error in nearly ALL of the cars. This is obviously wrong because the modification of most car files date back to 2010.\n </p>\n <p>\n  <a href=\"http://img.playground.ru/images/1/2/Capture_Mafia_2_Cars_Folder_Unmodified_Content.PNG\" rel=\"nofollow noreferrer\">\n   http://img.playground.ru/images/1/2/Capture_Mafia_2_Cars_Folder_Unmodified_Content.PNG\n  </a>\n </p>\n <p>\n  I am not requesting that helpers download the game to assist me, rather I am only asking that you download the program along with the provided .sds file. You will see that you cannot save such file - even after running the program as administrator. This is due to a STUPID error that is unnecessary since I mentioned that a majority of cars, regardless of their modification, are classified as erroneous. I am in need of a capable computer programmer. It would be great if someone could edit the FrameRes_Editor.exe program in a way that could allow users to circumvent this error detection. that way, I could still save files after false errors are detected.\n </p>\n <p>\n  Here are the files:\n </p>\n <p>\n  FrameRes_Editor.exe\n </p>\n <p>\n  <a href=\"https://yadi.sk/d/Zjv_wkgj3XzPDr\" rel=\"nofollow noreferrer\">\n   https://yadi.sk/d/Zjv_wkgj3XzPDr\n  </a>\n </p>\n <p>\n  smith_200_pha.sds\n </p>\n <p>\n  <a href=\"https://yadi.sk/d/d5Wb4CVM3XzPQx\" rel=\"nofollow noreferrer\">\n   https://yadi.sk/d/d5Wb4CVM3XzPQx\n  </a>\n </p>\n</div>\n</body></html>",
    "votes": "-3",
    "answers": 1,
    "views": "292",
    "tags": [
        "tools"
    ],
    "user": "osaru badiaru",
    "time": "6 years ago",
    "comments": [],
    "answers_data": [
        {
            "content": "<html><body><div class=\"s-prose js-post-body\" itemprop=\"text\">\n <p>\n  So, i tracked your bug.\n </p>\n <p>\n  The simple explanation:\n  \n\n  some values in the file are too large/small for the program to handle,\n  \n\n  you'll need to re-write them. basiclly, everything past 3E+38 will prevent the program from working. I lack knowlage in C# and never tried patching C# programs so that's all i can offer. Also note that some values might affect in-game stuff, I do not know how different the result might be - i can only hope that it'll be unnoticable.\n </p>\n <p>\n  Now, a bit info on the problem:\n  \n\n  The program was written in C# so i could get the source code. i used\n  <a href=\"https://github.com/0xd4d/dnSpy\" rel=\"nofollow noreferrer\">\n   dnSpy\n  </a>\n  .\n  \n\n  The error was inside a function named \"Bound_Write\", it tries to convert a\n  <code>\n   String\n  </code>\n  to\n  <code>\n   float\n  </code>\n  using\n  <code>\n   Convert.toSingle()\n  </code>\n  .\n  \n\n  A value in the\n  <code>\n   Blend\n  </code>\n  section in the file was \"a bit\" over 3.4E+38 and it threw an exception. That exception triggered the alert and stopped the saving process.\n  \n\n  The\n  <code>\n   Single.MaxValue\n  </code>\n  is around 3.4E+38, so I just rounded the number to 3E+38.\n  \n\n  You can find the modified \"smith_200_pha.sds\" here:\n </p>\n <pre><code>https://files.fm/u/cm4wk8yk\n</code></pre>\n <p>\n  EDIT:\n  \n\n  i ended up patching the executable, turns out it wasn't that difficult.\n  <a href=\"https://github.com/0xd4d/dnSpy\" rel=\"nofollow noreferrer\">\n   dnSpy\n  </a>\n  has a built-in option for that.\n  \n\n  note, it only takes care of cases where the input is in the form of\n  <code>\n   3...E+38\n  </code>\n  , positive and negative. it means that if you have\n  <code>\n   4.1E39\n  </code>\n  for example, this patch will NOT work. i am not fully aware of C# limitations and what numbers the game allows his fields to have. this patch is solely for convenience and doesn't make this progrem flawless.\nthe patched executable can be found here:\n </p>\n <pre><code>https://www.filedropper.com/framereseditor1\n</code></pre>\n</div>\n</body></html>",
            "votes": "3",
            "user": null,
            "time": "Jun 19, 2018 at 0:26",
            "is_accepted": false,
            "comments": [
                {
                    "user": "osaru badiaru",
                    "text": "<span class=\"comment-copy\">Hey, Amirag, thank you for your help; I was able to follow your approach in fixin the Single related error detection issue. However, the program does not save anything at all. I also discovered that it was an issue in the original, unedited version - which would indicate that was not the edit on dnSpy. Once an .sds file is saved in the program via the \"Save As\" button, the detail in the property .sds file acknowledges such modification, but the file content does not. The program disregards the edits performed on the file and reverts such file to its original condition - nothing can be saved.</span>",
                    "time": null
                },
                {
                    "user": "osaru badiaru",
                    "text": "<span class=\"comment-copy\">To view the edited program: <a href=\"https://yadi.sk/d/uIzNNqJ03YyQ4w\" rel=\"nofollow noreferrer\">yadi.sk/d/uIzNNqJ03YyQ4w</a>  To test the program's performance on saving: <a href=\"https://yadi.sk/d/d5Wb4CVM3XzPQx\" rel=\"nofollow noreferrer\">yadi.sk/d/d5Wb4CVM3XzPQx</a>          I really hope a solution can be contrived</span>",
                    "time": null
                },
                {
                    "user": "user22970",
                    "text": "<span class=\"comment-copy\">seems like it works. is there a problem or did i just misunderstood?</span>",
                    "time": null
                },
                {
                    "user": "osaru badiaru",
                    "text": "<span class=\"comment-copy\">I told you, it doesn't save any edits. You might have thought that I meant that there was an exception in the program's saving. However, that is not the case; the edits to .sds files are not saved. Try altering a number or more in the provided .sds file, and return to such file after saving to see if the saving function of the program is flawless.</span>",
                    "time": null
                },
                {
                    "user": "osaru badiaru",
                    "text": "<span class=\"comment-copy\">For example, if you changed a value in the .sds file through the program, then such edit would not be saved. There will be no error notification or exception when the save button is pressed; however, the content of the .sds file remains the same. You could test this by simply changing a value in the .sds file via the program, then saving the file. Afterwards, you can return to the file to discover whether or not such edit was saved.</span>",
                    "time": null
                }
            ]
        }
    ]
}