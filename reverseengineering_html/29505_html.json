{
    "title": "Video Packets via UDP - How to decode or identify video format?",
    "link": "https://reverseengineering.stackexchange.com/questions/29505/video-packets-via-udp-how-to-decode-or-identify-video-format",
    "content": "<html><body><div class=\"s-prose js-post-body\" itemprop=\"text\">\n <p>\n  I'm working with a cheap wireless video transmitter and receiver system that uses an Android App to receive the video over WiFi.\n </p>\n <p>\n  We want to be able to identify where the stream is coming from to be able to play it in VLC or some other desktop player from a laptop.\n </p>\n <p>\n  After some digging - I've discovered that there are UDP packets being sent from the wireless transmitter to the connected device after an initial packet is sent.\n </p>\n <p>\n  So a UDP socket opens on port 9000 and the device can start receiving UDP packets which are sent in large volumes (I couldn't find any other kind of activity so I'm presuming that this is the video stream).\n </p>\n <p>\n  Node.js code to receive this below:\n </p>\n <pre><code>    var server = udp.createSocket('udp4');\n    server.on('message',function(msg,info){\n      console.log('Data received from client server: ');\n      console.log('Received %d bytes from %s:%d\n',msg.length, info.address, info.port);\n    });\n    server.bind(9000);\n</code></pre>\n <p>\n  This will get a list of UDP packets appearing in the Node console. And I can see them in Wireshark.\n </p>\n <p>\n  Things I've already tried:\n </p>\n <ul>\n  <li>\n   Various FFMpeg commands on the UDP address.\n  </li>\n  <li>\n   Playing the UDP address in VLC directly.\n  </li>\n </ul>\n <p>\n  Wireshark just identifies them as UDP packets, but the dump of hex + ASCII is below:\n </p>\n <pre><code>0000   9c da 3e f8 24 51 44 01 bb 62 7b 3f 08 00 45 00   ..>.$QD..b{?..E.\n0010   05 7a 57 57 40 00 40 11 44 5e c0 a8 0c 01 c0 a8   .zWW@.@.D^......\n0020   0c 6c 23 28 23 28 05 66 c7 1f 80 60 dc eb 30 f6   .l#(#(.f...`..0.\n0030   f8 58 00 00 00 0a 1c 00 b6 a4 25 c8 e2 80 c8 ac   .X........%.....\n0040   42 35 79 1d 32 28 f3 20 86 0c eb ff fb c9 85 06   B5y.2(. ........\n0050   84 e4 cd 82 30 d9 4d bc 20 a1 04 cd bf f6 db ed   ....0.M. .......\n0060   91 46 8c c9 82 e9 0c 98 5c 28 3f ff f0 f7 59 09   .F......\\(?...Y.\n0070   04 cc 35 9c 3c b8 14 24 11 01 e5 a9 f4 fe df b4   ..5.<..$........\n0080   a4 84 ce 6c 57 0a f8 20 e0 28 c7 27 e7 c4 30 be   ...lW.. .(.'..0.\n0090   fb df c0 3a 41 7e bb 8a cb 92 e6 2d ec 76 9f 76   ...:A~.....-.v.v\n00a0   ff 71 fa 5e 22 f7 ae af 04 df fd 80 32 39 5b 20   .q.^\".......29[ \n00b0   00 67 01 af f9 fe 45 d8 12 bc 9c be 14 57 bb a7   .g....E......W..\n00c0   c1 fd dc 7e 0b df ff b8 ad 70 97 f3 f0 a9 20 42   ...~.....p.... B\n00d0   b2 1f 5b 7a d7 c9 d3 ee 59 95 c7 5f fe 84 65 f4   ..[z....Y.._..e.\n00e0   8b 9e d3 dc a9 a9 a8 b4 9b ed 0b 35 b3 6e df 8b   ...........5.n..\n00f0   dd dc c4 38 db a1 a4 24 07 73 24 04 2a 4e 49 80   ...8...$.s$.*NI.\n0100   6f 28 6a 90 40 90 40 18 3a 34 ff ff fd 9b d8 2c   o(j.@.@.:4.....,\n0110   e3 3a ce 0b 68 17 62 30 48 02 b4 4c 0f 43 7e 83   .:..h.b0H..L.C~.\n0120   76 d0 71 e1 c3 a9 44 fe 22 b2 08 d1 95 7e 09 2c   v.q...D.\"....~.,\n0130   c5 81 57 d6 b5 b3 80 5a 4d 83 8c 1c 6d 1c 79 be   ..W....ZM...m.y.\n0140   ae 9b d2 2e 71 85 15 fe f7 89 50 4b 3c 21 df d7   ....q.....PK<!..\n0150   de 15 24 27 6a 97 d6 bf fd 09 92 09 df 5b 49 b6   ..$'j........[I.\n0160   f6 ff ff f9 fe 40 50 7c 81 7e ee e9 7d 0a 61 10   .....@P|.~..}.a.\n0170   43 bb 5f ff 7b f7 ff 09 3b 84 8a be dd ba 61 45   C._.{...;.....aE\n0180   7d ee c8 50 90 10 f4 bb 1f fe 9f ca 14 70 64 d0   }..P.........pd.\n0190   7f fd 74 f2 3a 88 72 7a 93 15 91 7f ff f2 02 1f   ..t.:.rz........\n01a0   04 8b 5d b6 b5 ac c0 cc 2d 26 86 50 38 50 8a c5   ..].....-&.P8P..\n01b0   e5 73 cc 18 e8 15 1c 0c c0 f5 f9 d5 2a 65 69 d2   .s..........*ei.\n01c0   0b c4 a9 1a f0 62 7d 9f b8 03 50 f5 d3 6c 39 c5   .....b}...P..l9.\n01d0   2b 1f 78 cb 6c f6 f7 8c 2d de e5 c9 c0 b0 91 0d   +.x.l...-.......\n01e0   4a cb 97 ad d3 77 77 cf 1d 88 c0 7c 9a 46 3a 74   J....ww....|.F:t\n01f0   22 38 a0 c8 e2 1e 47 15 93 88 fd 10 48 4e 08 23   \"8....G.....HN.#\n0200   cb 49 8f d0 a4 89 48 ae 4e f9 15 c9 8e a1 90 90   .I....H.N.......\n0210   36 c9 01 04 81 9f 93 bf 85 3d 02 84 19 6c 65 5b   6........=...le[\n0220   ef d3 6f 34 85 3a 25 0f 21 46 73 7e dd bd fa ff   ..o4.:%.!Fs~....\n0230   81 8a 57 b0 98 d6 ff 3f 08 61 10 22 ac ff ee fc   ..W....?.a.\"....\n0240   98 60 06 4c 7a 4e 76 86 c4 5a 37 5d fe b4 ba 53   .`.LzNv..Z7]...S\n0250   e6 74 d2 d9 9b d2 ba 54 b4 f7 e1 12 1c 11 93 28   .t.....T.......(\n0260   b3 ff de ff ff fb 04 16 f7 13 a4 fd 33 9a 6e 2a   ............3.n*\n0270   93 42 86 6f 6f 6f 36 7f c7 a7 c8 86 f7 be 19 7a   .B.ooo6........z\n0280   ef ad a2 30 c3 23 cb d1 20 28 c8 eb 20 19 a2 4a   ...0.#.. (.. ..J\n0290   59 f6 6d dc 2c e5 ed 77 dd e1 f8 a5 0e bb 13 d3   Y.m.,..w........\n02a0   77 bc 45 26 55 8c 62 48 76 da 47 0c 52 02 18 01   w.E&U.bHv.G.R...\n02b0   d7 96 33 71 f5 d7 fa ac dd b0 a2 80 0b bf a3 21   ..3q...........!\n02c0   a0 b6 fd dd cf 41 9f f4 64 cf 7f a6 de fc bd fd   .....A..d.......\n02d0   1e 0e b5 77 97 b7 ea 6c cb 7b bd 7f 68 7f 90 46   ...w...l.{..h..F\n02e0   7f 36 76 d5 cc 37 1d 42 ac c0 20 3d 65 57 df f7   .6v..7.B.. =eW..\n02f0   f5 b5 21 c3 40 00 a3 53 fb d4 d9 df 34 c4 d1 9c   ..!.@..S....4...\n0300   f5 37 34 f2 b3 4c 9c aa cf c5 f2 e5 13 a5 48 61   .74..L........Ha\n0310   ef fa 3d 1c ac 79 b2 a6 d9 97 08 c6 b6 e8 0d 17   ..=..y..........\n0320   1a 43 3f 3d 3e ea d7 a5 d3 6d 32 b0 ba 7f 9f e1   .C?=>....m2.....\n0330   76 9d fc 29 0f d0 22 eb 8b 99 fb cd 71 e6 de 78   v..)..\".....q..x\n0340   2f 7d f4 de ab ac 67 87 2e 93 59 72 fd d1 5e ec   /}....g...Yr..^.\n0350   0c ce 78 44 84 00 8c d6 f6 6b 72 2b bc 69 45 7b   ..xD.....kr+.iE{\n0360   7b 80 f1 0f d7 29 df 4a ef 97 16 d2 ae db 88 72   {....).J.......r\n0370   2f 67 31 3a 77 7f 77 74 da e6 e0 26 08 01 ae 18   /g1:w.wt...&....\n0380   3d 6e 4d eb db df 80 47 c6 8d b2 0a 96 a7 2b df   =nM....G......+.\n0390   7f d0 a2 80 1a ed 21 fd 1f 97 f6 ff f9 57 c6 1a   ......!......W..\n03a0   5a 39 05 5a 5a 56 f5 f3 d7 f0 03 cd 06 75 85 eb   Z9.ZZV.......u..\n03b0   5a 8b 16 3f 0f c0 f3 20 27 f4 e9 bf 0f f5 3f 89   Z..?... '.....?.\n03c0   bf ee bc 8e 08 8a 1d b0 ae 7e 23 04 25 75 4f 22   .........~#.%uO\"\n03d0   86 46 42 62 1c 26 06 f6 80 51 c0 31 a1 b5 67 f7   .FBb.&...Q.1..g.\n03e0   fb de f9 10 70 f0 0c 12 f4 db 9f 6d 37 f6 d1 8e   ....p......m7...\n03f0   aa 7a 4d 82 81 d2 ed 8f 29 b7 29 a4 ee 9d 58 7a   .zM.....).)...Xz\n0400   a2 c9 97 a5 07 1a 20 18 76 23 a7 eb d7 4f 26 14   ...... .v#...O&.\n0410   06 81 07 2f ff af e1 0c 40 ff ff d6 47 0b 39 13   .../....@...G.9.\n0420   0a 0b 21 0e 4b e9 38 8c b4 79 14 19 34 01 0c 50   ..!.K.8..y..4..P\n0430   6b ff fc 98 11 db 12 2a 26 3d 99 31 72 61 38 aa   k......*&=.1ra8.\n0440   70 87 09 55 5b d4 98 4e 92 93 2e 93 05 3c 68 20   p..U[..N.....<h \n0450   48 12 1c 25 ba ad 7f eb 50 a2 88 58 a7 ff fb 44   H..%....P..X...D\n0460   28 6d 11 09 64 c1 66 43 ff fe 40 fe 6f ff 66 a5   (m..d.fC..@.o.f.\n0470   9a 0c 47 af cd ed ed b6 d8 6c 2a 05 eb fe 1a db   ..G......l*.....\n0480   9c 2d 6a 89 38 fc 9d 72 fe 5c 10 ff 5f d8 15 d6   .-j.8..r.\\.._...\n0490   3f 8c ee 36 64 98 79 ac 48 de e9 4a 2b cb f7 dd   ?..6d.y.H..J+...\n04a0   6b fc 15 d8 88 64 4d e0 49 c6 7c 58 5c b9 c6 96   k....dM.I.|X\\...\n04b0   8d e9 da 57 7d e5 e2 b7 dc c2 0b d7 f7 fe 45 22   ...W}.........E\"\n04c0   78 f8 7a 3e 2b 77 bd f7 bb c7 18 a1 1d 40 d7 a4   x.z>+w.......@..\n04d0   8a 25 4b 7f 88 24 16 68 4f a2 09 2f b5 92 18 65   .%K..$.hO../...e\n04e0   82 18 21 36 b2 af fd 17 c2 18 26 1e a9 ff ed fd   ..!6......&.....\n04f0   bb 37 8b 40 b1 91 98 6a 47 15 d6 24 9e b1 54 08   .7.@...jG..$..T.\n0500   5f d0 fb e0 51 d7 fd 50 70 17 8c b4 cd 80 08 6f   _...Q..Pp......o\n0510   25 1a 0c a1 ee e1 e4 9d d7 e4 19 65 cb b8 d5 b8   %..........e....\n0520   eb a4 fe f7 bb b8 a5 0c 54 28 b2 eb 08 92 15 1b   ........T(......\n0530   9f 7b ff 9c 90 76 df c4 e0 6b 72 0e d0 a3 80 60   .{...v...kr....`\n0540   94 3b 16 7c 57 7f bf d1 2a 12 09 9e da 20 90 a3   .;.|W...*.... ..\n0550   cf 23 97 88 d2 d4 8e 91 31 95 26 2f fb 5b ca 0f   .#......1.&/.[..\n0560   18 33 2a df 08 46 48 1f e4 be 1c 9d 40 09 8a c1   .3*..FH.....@...\n0570   22 80 11 53 c9 a1 bf 6f e5 be 07 a1 ac 5b f7 b8   \"..S...o.....[..\n0580   f9 3c 72 ca 5d c0 91 b3                           .<r.]...\n</code></pre>\n <p>\n  I'm now at a complete loss as to how I can actually get this stream to play on any device other than an Android/iOS app that the transmitter normally works with.\n </p>\n <p>\n  Any ideas on what my next steps might be to try and work this one out?\n </p>\n</div>\n</body></html>",
    "votes": "1",
    "answers": 0,
    "views": "168",
    "tags": [
        "android"
    ],
    "user": "Sam Barnes",
    "time": "Nov 4, 2021 at 10:56",
    "comments": [
        {
            "user": "NirIzr",
            "text": "<html><body><span class=\"comment-copy\">\n Have you tried reverse engineering the application used to view the video stream?\n</span>\n</body></html>",
            "time": null
        }
    ],
    "answers_data": []
}