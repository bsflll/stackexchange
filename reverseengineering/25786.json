{
    "title": "Reverse UART communication protocol",
    "link": "https://reverseengineering.stackexchange.com/questions/25786/reverse-uart-communication-protocol",
    "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<p>I'm objective is to build a custom wifi module to be used on a Samsung AC AR24HSFSAWKN. I have such an official module <a href=\"https://fccid.io/A3LSWL-B70F/User-Manual/User-Manual-2022182\" rel=\"nofollow noreferrer\">SWL-B70F</a> for which I'm trying to reverse engineer the communication with the main AC board. It's just for the challenge and my first attempt on such hack.</p>\n<hr/>\n<p>From the <a href=\"https://www.manualslib.com/manual/836715/Samsung-Ar09hsfshwkncv.html?page=84#manual\" rel=\"nofollow noreferrer\">AC manual</a> I have identified the following pinout:</p>\n<pre><code>CN51 - WI-FI MODULE\n#1 : WIFI UART SIGNAL1\n#2 : WIFI UART SIGNAL2\n#3 : WIFI RESET SIGNAL\n#4 : GND\n#5 : DC 12V\n#6 : N.C\n</code></pre>\n<p>Once module was disassembled, I found inside an arm board and a second one which I identified to be a step-down regulator (12V -&gt; 5V). On the regulator board, I've hooked some wires to the UART lines + GND to 2 ftdi cables on their RX pin, so I can dump the frames in both directions. I've booted the device several times with different <code>tty</code> baud rates. I think 9600 bauds is the right one as other did not gave nice patterns. Now I end with the exchanges bellow. I found some common patterns. I suppose frames start with <code>d0</code> (or <code>d0c002</code>) and ends with <code>e0</code>. There seems to have a message counter, a fixed separator, a payload, and a checksum: <code>&lt;start&gt; &lt;????&gt; &lt;counter&gt; &lt;sep?&gt; &lt;payload&gt; &lt;CheckSum8 Xor&gt; &lt;end&gt;</code>. When a message is sent, a similar message is sent on the other line, probably a <code>ack</code> message.</p>\n<p>I can send xml commands via the actual wifi module. As a test, I send a <code>OFF</code> command, wich resulted in the following exchanges:</p>\n<p><code>OFF</code> Command:</p>\n<pre><code># try 1\n-&gt; d0c002 12 000000000038 fe 1204060201f074010f 5f e0\n&lt;- d0c002 12 000000000038 fe 1205060201f074010f 5e e0\n\n# try 2\n-&gt; d0c002 12 000000000047 fe 1204060201f074010f 20 e0\n&lt;- d0c002 12 000000000047 fe 1205060201f074010f 21 e0\n\n# try 3\n-&gt; d0c002 12 000000000058 fe 1204060201f074010f 3f e0\n&lt;- d0c002 12 000000000058 fe 1205060201f074010f 3e e0\n</code></pre>\n<p>Another possible command is to get <code>DeviceState</code>, which return the following XML (but did not triggered any exchange with main board, I suppose the values are stored in the wifi module upon initialization):</p>\n<pre><code>?xml version=\"1.0\" encoding=\"utf-8\" ?&gt; \n&lt;Response Type=\"DeviceState\" Status=\"Okay\"&gt; \n  &lt;DeviceState&gt; \n    &lt;Device DUID=\"F8042ED83EA0\" GroupID=\"AC\" ModelID=\"AC\" &gt; \n      &lt;Attr ID=\"AC_FUN_ENABLE\" Type=\"RW\" Value=\"Enable\"/&gt; \n      &lt;Attr ID=\"AC_FUN_POWER\" Type=\"RW\" Value=\"Off\"/&gt; \n      &lt;Attr ID=\"AC_FUN_OPMODE\" Type=\"RW\" Value=\"Auto\"/&gt; \n      &lt;Attr ID=\"AC_FUN_TEMPSET\" Type=\"RW\" Value=\"21\"/&gt; \n      &lt;Attr ID=\"AC_FUN_COMODE\" Type=\"RW\" Value=\"Off\"/&gt; \n      &lt;Attr ID=\"AC_FUN_ERROR\" Type=\"RW\" Value=\"NULL\"/&gt; \n      &lt;Attr ID=\"AC_FUN_TEMPNOW\" Type=\"R\" Value=\"23\"/&gt; \n      &lt;Attr ID=\"AC_FUN_SLEEP\" Type=\"RW\" Value=\"0\"/&gt; \n      &lt;Attr ID=\"AC_FUN_WINDLEVEL\" Type=\"RW\" Value=\"Auto\"/&gt; \n      &lt;Attr ID=\"AC_FUN_DIRECTION\" Type=\"RW\" Value=\"Fixed\"/&gt; \n      &lt;Attr ID=\"AC_ADD_AUTOCLEAN\" Type=\"RW\" Value=\"Off\"/&gt; \n      &lt;Attr ID=\"AC_ADD_SETKWH\" Type=\"RW\" Value=\"255\"/&gt; \n      &lt;Attr ID=\"AC_ADD_CLEAR_FILTER_ALARM\" Type=\"RW\" Value=\"240\"/&gt; \n      &lt;Attr ID=\"AC_ADD_APMODE_END\" Type=\"W\" Value=\"0\"/&gt; \n      &lt;Attr ID=\"AC_ADD_STARTWPS\" Type=\"RW\" Value=\"Default\"/&gt; \n      &lt;Attr ID=\"AC_ADD_SPI\" Type=\"RW\" Value=\"Off\"/&gt; \n      &lt;Attr ID=\"AC_OUTDOOR_TEMP\" Type=\"R\" Value=\"71\"/&gt; \n      &lt;Attr ID=\"AC_COOL_CAPABILITY\" Type=\"R\" Value=\"68\"/&gt; \n      &lt;Attr ID=\"AC_WARM_CAPABILITY\" Type=\"R\" Value=\"80\"/&gt; \n      &lt;Attr ID=\"AC_SG_WIFI\" Type=\"W\" Value=\"Connected\"/&gt; \n      &lt;Attr ID=\"AC_SG_INTERNET\" Type=\"W\" Value=\"Disconnected\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_USEDWATT\" Type=\"R\" Value=\"65024\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_VERSION\" Type=\"RW\" Value=\"65024\"/&gt; \n      &lt;Attr ID=\"AC_SG_MACHIGH\" Type=\"W\" Value=\"216\"/&gt; \n      &lt;Attr ID=\"AC_SG_MACMID\" Type=\"W\" Value=\"62\"/&gt; \n      &lt;Attr ID=\"AC_SG_MACLOW\" Type=\"W\" Value=\"160\"/&gt; \n      &lt;Attr ID=\"AC_SG_VENDER01\" Type=\"W\" Value=\"248\"/&gt; \n      &lt;Attr ID=\"AC_SG_VENDER02\" Type=\"W\" Value=\"4\"/&gt; \n      &lt;Attr ID=\"AC_SG_VENDER03\" Type=\"W\" Value=\"46\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_PANEL_VERSION\" Type=\"R\" Value=\"150224\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_OUT_VERSION\" Type=\"R\" Value=\"1246985\"/&gt; \n      &lt;Attr ID=\"AC_FUN_MODEL\" Type=\"R\" Value=\"5\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_OPTIONCODE\" Type=\"R\" Value=\"53432\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_USEDPOWER\" Type=\"R\" Value=\"58933\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_USEDTIME\" Type=\"R\" Value=\"265675\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_CLEAR_POWERTIME\" Type=\"RW\" Value=\"254\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_FILTERTIME\" Type=\"RW\" Value=\"500\"/&gt; \n      &lt;Attr ID=\"AC_ADD2_FILTER_USE_TIME\" Type=\"R\" Value=\"10000\"/&gt; \n    &lt;/Device&gt; \n  &lt;/DeviceState&gt; \n&lt;/Response&gt; \n</code></pre>\n<p>Some values are present in the boot log, such as <code>AC_ADD2_USEDTIME</code>, <code>AC_ADD2_OPTIONCODE</code>, <code>AC_ADD2_USEDPOWER</code>, <code>AC_ADD2_FILTER_USE_TIME</code> =&gt;\n<code>d0c002 39 000000000009 fe 14032d3201fef601fef403150224f303130709f501053902 d0b8(AC_ADD2_OPTIONCODE) e0040000 e635 e404000 40dcb(AC_ADD2_USEDPOWER) e801fee90103e602 2710(AC_ADD2_FILTER_USE_TIME) 93 e0</code></p>\n<p>The frame may be split as:</p>\n<pre><code>14032d3201fef601fef403150224f303130709f50105\n3902 d0b8 \ne004 0000e635 \ne404 00040dcb\ne801 fee90103\ne602 2710\n</code></pre>\n<p><code>e004</code>, <code>e404</code>, <code>e602</code> could probably be some field header?</p>\n<p>The checksum is <code>CheckSum8 Xor</code> of the first bytes: <code>d0c00212000000000047fe1204060201f074010f</code> -&gt; <code>20</code></p>\n<p>Also the first exchange (<code>0000</code> / <code>00fc</code>) never showed again, so it should be some sort of handshake.</p>\n<p>Next I'll try to remove the wifi module, and replay the communication with it, simulating the AC.</p>\n<hr/>\n<p>Questions:</p>\n<ol>\n<li>Are my methodology and assumptions valid?</li>\n<li>What could be the second field in the frame (unique values seems to be <code>0f 12 18 1c 1e 22 30</code>)?</li>\n<li>Am I splitting the frames correctly?</li>\n<li>Do you have some advises on how to decode the remaining messages and reverse the full protocol?</li>\n<li>Does it looks like something known elsewhere?</li>\n<li>Any other tip :)</li>\n</ol>\n<p>Thanks a lot!</p>\n<hr/>\n<p>The full boot log:</p>\n<pre><code>#-&gt; WIFI TO AC\n#&lt;- AC TO WIFI\n\n-&gt; 00fc\n&lt;- 0000\n-&gt; d0c002 12 000000000000 fe 12040601010f7401f0 64 e0\n&lt;- d0c002 12 000000000000 fe 12050601010f7401f0 65 e0\n-&gt; d0c002 18 000000000001 fe 14040c170115180105190127fd0102 37 e0\n&lt;- d0c002 18 000000000001 fe 14050c170115180105190127fd0102 36 e0\n-&gt; d0c002 1e 000000000002 fe 140412fa01f8fb0104fc012ef701d8f8013ef901a0 6d e0\n&lt;- d0c002 1e 000000000002 fe 140512fa01f8fb0104fc012ef701d8f8013ef901a0 6c e0\n-&gt; d0c002 18 000000000003 fe 14040c170115180105190127fd0102 35 e0\n&lt;- d0c002 18 000000000003 fe 14050c170115180105190127fd0102 34 e0\n-&gt; d0c002 1e 000000000004 fe 140412fa01f8fb0104fc012ef701d8f8013ef901a0 6b e0\n&lt;- d0c002 1e 000000000004 fe 140512fa01f8fb0104fc012ef701d8f8013ef901a0 6a e0\n-&gt; d0c002 18 000000000005 fe 14040c170115180105190127fd0102 33 e0\n&lt;- d0c002 18 000000000005 fe 14050c170115180105190127fd0102 32 e0\n-&gt; d0c002 1e 000000000006 fe 140412fa01f8fb0104fc012ef701d8f8013ef901a0 69 e0\n&lt;- d0c002 1e 000000000006 fe 140512fa01f8fb0104fc012ef701d8f8013ef901a0 68 e0\n-&gt; d0c002 30 000000000006 fe 1207240201f04101324301e24401126201006301c2ea01fe5a01155c0117730100f70400000000 ce e0\n&lt;- d0c002 30 000000000006 fe 1206240201f04101324301e24401126201006301c2ea01fe5a01155c0117730100f70400000000 cf e0\n-&gt; d0c002 1c 000000000008 fe 13021032004000440043007500760077007800 80 e0\n&lt;- d0c002 26 000000000008 fe 13031a3201234001ff4401f043010f7501f07601497702004478020050 3f e0\n-&gt; d0c002 22 000000000009 fe 1402163200f600f400f300f5003900 e000e400e800e900e600 2b e0\n&lt;- d0c002 39 000000000009 fe 14032d3201fef601fef403150224f303130709f501053902d0b8e0040000e635e40400040dcbe801fee90103e6022710 93 e0\n-&gt; d0c002 0f 00000000000a fe 14040337010f c3 e0\n&lt;- d0c002 0f 00000000000a fe 14050337010f c2 e0\n-&gt; d0c002 18 00000000000b fe 14040c170115180105190127fd0102 3d e0\n&lt;- d0c002 18 00000000000b fe 14050c170115180105190127fd0102 3c e0\n-&gt; d0c002 22 00000000000c fe 1402163200f600f400f300f5003900 e000e400e800e900e600 2e e0\n&lt;- d0c002 39 00000000000c fe 14032d3201fef601fef403150224f303130709f501053902d0b8e0040000e635e40400040dcbe801fee90103e6022710 96 e0\n-&gt; d0c002 1e 00000000000d fe 140412fa01f8fb0104fc012ef701d8f8013ef901a0 62 e0\n&lt;- d0c002 1e 00000000000d fe 140512fa01f8fb0104fc012ef701d8f8013ef901a0 63 e0\n-&gt; d0c002 0f 00000000000e fe 1404033801f0 37 e0\n&lt;- d0c002 0f 00000000000e fe 1405033801f0 36 e0\n-&gt; d0c002 0f 00000000000f fe 14040337010f c6 e0\n&lt;- d0c002 0f 00000000000f fe 14050337010f c7 e0\n-&gt; d0c002 0f 000000000010 fe 14040337010f d9 e0\n&lt;- d0c002 0f 000000000010 fe 14050337010f d8 e0\n-&gt; d0c002 18 000000000011 fe 14040c170115180105190127fd0102 27 e0\n&lt;- d0c002 18 000000000011 fe 14050c170115180105190127fd0102 26 e0\n-&gt; d0c002 1e 000000000012 fe 140412fa01f8fb0104fc012ef701d8f8013ef901a0 7d e0\n&lt;- d0c002 1e 000000000012 fe 140512fa01f8fb0104fc012ef701d8f8013ef901a0 7c e0\n-&gt; d0c002 0f 000000000013 fe 1404033801f0 2a e0\n&lt;- d0c002 0f 000000000013 fe 1405033801f0 2b e0\n-&gt; d0c002 0f 000000000014 fe 14040337010f dd e0\n&lt;- d0c002 0f 000000000014 fe 14050337010f dc e0\n-&gt; d0c002 0f 000000000015 fe 1404033801f0 2c e0\n&lt;- d0c002 0f 000000000015 fe 1405033801f0 2d e0\n-&gt; d0c002 0f 000000000016 fe 14040337010f df e0\n&lt;- d0c002 0f 000000000016 fe 14050337010f de e0\n-&gt; d0c002 0f 000000000017 fe 1404033801f0 2e e0\n&lt;- d0c002 0f 000000000017 fe 1405033801f0 2f e0\n-&gt; d0c002 0f 000000000018 fe 14040337010f d1 e0\n&lt;- d0c002 0f 000000000018 fe 14050337010f d0 e0\n-&gt; d0c002 0f 000000000019 fe 1404033801f0 20 e0\n&lt;- d0c002 0f 000000000019 fe 1405033801f0 21 e0\n-&gt; d0c002 0f 00000000001a fe 14040337010f d3 e0\n&lt;- d0c002 0f 00000000001a fe 14050337010f d2 e0\n</code></pre>\n<p><a href=\"https://i.sstatic.net/Z7kNz.jpg\" rel=\"nofollow noreferrer\"><img alt=\"Wifi Module ARM Board\" src=\"https://i.sstatic.net/Z7kNz.jpg\"/></a>\n<a href=\"https://i.sstatic.net/ZJqSL.jpg\" rel=\"nofollow noreferrer\"><img alt=\"enter image description here\" src=\"https://i.sstatic.net/ZJqSL.jpg\"/></a></p>\n</div>",
    "votes": "2",
    "answers": 1,
    "views": "1k",
    "tags": [
        "hardware",
        "serial-communication",
        "protocol",
        "packet"
    ],
    "user": "KumZ",
    "time": "Aug 31, 2020 at 22:49",
    "comments": [
        {
            "user": "user43320",
            "text": "<span class=\"comment-copy\">I want to do something similar, can you explain how you connected the board and with what device? My air conditioner with this module no longer connects to the samsung application despite connecting to wifi.</span>",
            "time": null
        },
        {
            "user": "KumZ",
            "text": "<span class=\"comment-copy\">@user43320 I created an arduino sketch to read UART in a loop and print on the console the received bytes. I've hooked that to the green board with some thin wires soldered here an there on some points I've identified by that time. I'm sorry I don't have the sketch neither the pictures anymore. Good luck! My started GitHub project (linked as comment to the bellow answer) is stalled, but feel free to contribute!</span>",
            "time": null
        }
    ],
    "answers_data": [
        {
            "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<h1>From my question:</h1>\n<ol>\n<li>It seems to work :)</li>\n<li>Is the message length</li>\n<li>more or less ;)</li>\n<li>See procedure bellow</li>\n<li>Still wondering if it's a \"common/standard protocol\"?</li>\n</ol>\n<h1>Procedure</h1>\n<p>I have removed the module from the AC and build a simple fake AC server.</p>\n<p>From what I see, once a message is sent, a response has to be returned. I've exchanged some messages with it using XML commands, looking at the messages sent back to the AC (my virtual AC server), and could decode most of the messages. Then I've sent back some messages directly to the module as if the AC sent them, and looked at the new values stored in the module.</p>\n<p>I end up with the following protocol. There is still some points to be clarified, but most of the work is done.</p>\n<p>Next step, I'll write a daemon capable of translating messages as human readable, and connect back the module to the AC, then sniffing while playing with the different function to find if there are some \"new\" messages.</p>\n<h1>Message format</h1>\n<p>Each message could be decomposed as follow:</p>\n<pre><code>╔═══════╦══════════╦════════╦══════════════╦═════╦════════════════════════════════╦══════════╦═════╗\n║ start ║ version? ║ length ║   counter    ║ sep ║            payload             ║ checksum ║ end ║\n╠═══════╬══════════╬════════╬══════════════╬═════╬════════════════════════════════╬══════════╬═════╣\n║ d0c0  ║       02 ║     12 ║ 000000000000 ║ fe  ║ 12040601010f7401f0             ║       64 ║ e0  ║\n║ d0c0  ║       02 ║     12 ║ 000000000000 ║ fe  ║ 12050601010f7401f0             ║       65 ║ e0  ║\n║ d0c0  ║       02 ║     18 ║ 000000000001 ║ fe  ║ 14040c170115180105190127fd0102 ║       37 ║ e0  ║\n║ d0c0  ║       02 ║     18 ║ 000000000001 ║ fe  ║ 14050c170115180105190127fd0102 ║       36 ║ e0  ║\n║ …     ║          ║        ║              ║     ║                                ║          ║     ║\n╚═══════╩══════════╩════════╩══════════════╩═════╩════════════════════════════════╩══════════╩═════╝\n</code></pre>\n<ul>\n<li>Fields <code>start</code>, <code>end</code>, <code>sep</code>, <code>version?</code> seems static</li>\n<li><code>Counter</code> is incrementing for each new message</li>\n<li>when one of the two cards receives a message, it sends back the <strong>same</strong> message but increasing the <code>ack</code> value</li>\n<li><code>checksum</code> the <code>CheckSum 8 Xor</code> of the all columns before</li>\n<li><code>length</code>, count from here to end of message (including <code>checksum</code> and <code>end</code>)</li>\n</ul>\n<h1>Payload</h1>\n<p>Each payload may be decomposed in <code>command</code>, <code>sub</code></p>\n<pre><code>╔══════╦═════════╦══════════╦════════════════════════════════════════════════════════════════════════════════════════╗\n║ type ║ command ║ register ║                                        value(s)                                        ║\n╠══════╬═════════╬══════════╬════════════════════════════════════════════════════════════════════════════════════════╣\n║ 1204 ║ 06      ║ 0101     ║ 0f74010f                                                                               ║\n║ 1205 ║ 06      ║ 0101     ║ f074010f                                                                               ║\n║ 1204 ║ 09      ║ f704     ║ 5445535474010f                                                                         ║\n║ 1403 ║ 2d      ║ 3201     ║ fef601fef403150224f303130709f501053902d0b8e0040000e635e40400040dcbe801fee90103e6022710 ║\n╚══════╩═════════╩══════════╩════════════════════════════════════════════════════════════════════════════════════════╝\n</code></pre>\n<h2>Types</h2>\n<ul>\n<li><code>1204</code>: user commands</li>\n<li><code>1205</code>: ack - user commands</li>\n<li><code>1206</code>: values from AC</li>\n<li><code>1207</code>: ack - values from AC</li>\n<li><code>1302</code>: reset? registers</li>\n<li><code>1303</code>: values from AC (OutDoor?)</li>\n<li><code>1304</code>: Set</li>\n<li><code>1305</code>: ack - Set</li>\n<li><code>1402</code>: counters from unit</li>\n<li><code>1403</code>: ??? ack?</li>\n<li><code>1404</code>: wifi module status</li>\n<li><code>1405</code>: ??? ack?</li>\n</ul>\n<h3><code>1204</code> Commands</h3>\n<ul>\n<li><code>06</code> Set Integer</li>\n<li><code>09</code> Set String</li>\n</ul>\nAC_FUN_ENABLE\n<pre><code>╔═════════╦═════════╦══════════╦════════╦═══════╦════════╗\n║         ║ command ║ register ║ length ║ value ║  end   ║\n╠═════════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ Enable  ║      06 ║       01 ║     01 ║ f0    ║ 74010f ║\n║ Disable ║      06 ║       01 ║     01 ║ 0f    ║ 74010f ║\n╚═════════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_POWER\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ Off ║      06 ║       02 ║     01 ║ f0    ║ 74010f ║\n║ On  ║      06 ║       02 ║     01 ║ 0f    ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_OPMODE\n<pre><code>╔══════╦═════════╦══════════╦════════╦═══════╦════════╗\n║      ║ command ║ register ║ length ║ value ║  end   ║\n╠══════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ Cool ║      06 ║       43 ║     01 ║ 12    ║ 74010f ║\n║ Dry  ║      06 ║       43 ║     01 ║ 22    ║ 74010f ║\n║ Wind ║      06 ║       43 ║     01 ║ 32    ║ 74010f ║\n║ Heat ║      06 ║       43 ║     01 ║ 42    ║ 74010f ║\n║ Auto ║      06 ║       43 ║     01 ║ e2    ║ 74010f ║\n╚══════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_COMODE\n<pre><code>╔═══════════╦═════════╦══════════╦════════╦═══════╦════════╗\n║           ║ command ║ register ║ length ║ value ║  end   ║\n╠═══════════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ Off       ║      06 ║       44 ║     01 ║ 12    ║ 74010f ║\n║ TurboMode ║      06 ║       44 ║     01 ║ 22    ║ 74010f ║\n║ Smart     ║      06 ║       44 ║     01 ║ 32    ║ 74010f ║\n║ Sleep     ║      06 ║       44 ║     01 ║ 42    ║ 74010f ║\n║ Quiet     ║      06 ║       44 ║     01 ║ 52    ║ 74010f ║\n║ SoftCool  ║      06 ║       44 ║     01 ║ 62    ║ 74010f ║\n║ WindMode1 ║      06 ║       44 ║     01 ║ 82    ║ 74010f ║\n║ WindMode2 ║      06 ║       44 ║     01 ║ 92    ║ 74010f ║\n║ WindMode3 ║      06 ║       44 ║     01 ║ a2    ║ 74010f ║\n╚═══════════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_TEMPSET (from 16°C to 28°C)\n<pre><code>╔══════╦═════════╦══════════╦════════╦═══════╦════════╗\n║      ║ command ║ register ║ length ║ value ║  end   ║\n╠══════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ 16°C ║      06 ║ 5a       ║     01 ║ 10    ║ 74010f ║\n║ 17°C ║      06 ║ 5a       ║     01 ║ 11    ║ 74010f ║\n║ …    ║         ║          ║        ║       ║        ║\n║ 28°C ║      06 ║ 5a       ║     01 ║ 1c    ║ 74010f ║\n╚══════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_WINDLEVEL\n<pre><code>╔═══════╦═════════╦══════════╦════════╦═══════╦════════╗\n║       ║ command ║ register ║ length ║ value ║  end   ║\n╠═══════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ Auto  ║      06 ║       62 ║     00 ║    00 ║ 74010f ║\n║ Low   ║      06 ║       62 ║     01 ║    12 ║ 74010f ║\n║ Mid   ║      06 ║       62 ║     01 ║    14 ║ 74010f ║\n║ High  ║      06 ║       62 ║     01 ║    16 ║ 74010f ║\n║ Turbo ║      06 ║       62 ║     01 ║    18 ║ 74010f ║\n╚═══════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_DIRECTION\n<pre><code>╔══════════╦═════════╦══════════╦════════╦═══════╦════════╗\n║          ║ command ║ register ║ length ║ value ║  end   ║\n╠══════════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ Off      ║      06 ║       63 ║     01 ║ 12    ║ 74010f ║\n║ Indirect ║      06 ║       63 ║     01 ║ 21    ║ 74010f ║\n║ Direct   ║      06 ║       63 ║     01 ║ 31    ║ 74010f ║\n║ Center   ║      06 ║       63 ║     01 ║ 41    ║ 74010f ║\n║ Wide     ║      06 ║       63 ║     01 ║ 51    ║ 74010f ║\n║ Left     ║      06 ║       63 ║     01 ║ 61    ║ 74010f ║\n║ Right    ║      06 ║       63 ║     01 ║ 71    ║ 74010f ║\n║ Long     ║      06 ║       63 ║     01 ║ 81    ║ 74010f ║\n║ SwingUD  ║      06 ║       63 ║     01 ║ 92    ║ 74010f ║\n║ SwingLR  ║      06 ║       63 ║     01 ║ a2    ║ 74010f ║\n║ Rotation ║      06 ║       63 ║     01 ║ b2    ║ 74010f ║\n║ Fixed    ║      06 ║       63 ║     01 ║ c2    ║ 74010f ║\n╚══════════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_SLEEP\n<p>TODO: To validate</p>\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║   0 ║      06 ║       73 ║     01 ║ 00    ║ 74010f ║\n║ 255 ║      06 ║       73 ║     01 ║ ff    ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_FUN_ERROR\n<pre><code>╔════════════════════════════════════════════════════════════════════════╦════════════╦══════════╦════════╦══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╦════════╗\n║                                                                        ║ command??? ║ register ║ length ║                                                                    value                                                                     ║  end   ║\n╠════════════════════════════════════════════════════════════════════════╬════════════╬══════════╬════════╬══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╬════════╣\n║ NULL                                                                   ║ 09         ║ f7       ║     04 ║ 4e554c4c                                                                                                                                     ║ 74010f ║\n║ TEST                                                                   ║ 09         ║ f7       ║     04 ║ 54455354                                                                                                                                     ║ 74010f ║\n║ MY_ERROR_MESSAGE                                                       ║ 15         ║ f7       ║     10 ║ 4d59204552524f52204d455353414745                                                                                                             ║ 74010f ║\n║ 0123456789012345678901234567890123456789012345678901234567890123456789 ║ 4b         ║ f7       ║     46 ║ 30313233343536373839303132333435363738393031323334353637383930313233343536373839303132333435363738393031323334353637383930313233343536373839 ║ 74010f ║\n╚════════════════════════════════════════════════════════════════════════╩════════════╩══════════╩════════╩══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╩════════╝\n</code></pre>\n<h3><code>1206</code> Commands</h3>\n<pre><code>╔══════════════════╦═════════╦══════════╦════════╦══════════╗\n║                  ║ command ║ register ║ length ║  value   ║\n╠══════════════════╬═════════╬══════════╬════════╬══════════╣\n║ Multi_valued     ║      24 ║          ║        ║          ║\n║ AC_FUN_POWER     ║         ║ 02       ║     01 ║ f0       ║\n║ ?                ║         ║ 41       ║     01 ║ 32       ║\n║ AC_FUN_OPMODE    ║         ║ 43       ║     01 ║ e2       ║\n║ AC_FUN_COMODE    ║         ║ 44       ║     01 ║ 12       ║\n║ AC_FUN_WINDLEVEL ║         ║ 62       ║     01 ║ 00       ║\n║ AC_FUN_DIRECTION ║         ║ 63       ║     01 ║ c2       ║\n║ ?                ║         ║ ea       ║     01 ║ fe       ║\n║ AC_FUN_TEMPSET   ║         ║ 5a       ║     01 ║ 15       ║\n║ AC_FUN_TEMPNOW   ║         ║ 5c       ║     01 ║ 17       ║\n║ AC_FUN_SLEEP     ║         ║ 73       ║     01 ║ 00       ║\n║ AC_FUN_ERROR     ║         ║ f7       ║     04 ║ 00000000 ║\n╚══════════════════╩═════════╩══════════╩════════╩══════════╝\n</code></pre>\n<h3><code>1302</code> Commands</h3>\n<p>Reset?</p>\n<pre><code>╔═══════════════════════════╦═════════╦══════════╦════════╦═══════╗\n║                           ║ command ║ register ║ length ║ value ║\n╠═══════════════════════════╬═════════╬══════════╬════════╬═══════╣\n║ Multi_valued              ║      10 ║          ║        ║       ║\n║ AC_ADD_AUTOCLEAN          ║         ║       32 ║     00 ║       ║\n║ AC_ADD_SETKWH             ║         ║       40 ║     00 ║       ║\n║ AC_ADD_CLEAR_FILTER_ALARM ║         ║       44 ║     00 ║       ║\n║ AC_ADD_STARTWPS           ║         ║       43 ║     00 ║       ║\n║ AC_ADD_SPI                ║         ║       75 ║     00 ║       ║\n║ AC_OUTDOOR_TEMP           ║         ║       76 ║     00 ║       ║\n║ AC_COOL_CAPABILITY        ║         ║       77 ║     00 ║       ║\n║ AC_WARM_CAPABILITY        ║         ║       78 ║     00 ║       ║\n╚═══════════════════════════╩═════════╩══════════╩════════╩═══════╝\n</code></pre>\n<h3><code>1303</code> Commands</h3>\n<pre><code>╔═══════════════════════════╦═════════╦══════════╦════════╦═══════╗\n║                           ║ command ║ register ║ length ║ value ║\n╠═══════════════════════════╬═════════╬══════════╬════════╬═══════╣\n║ Multi_valued              ║ 1a      ║          ║        ║       ║\n║ AC_ADD_AUTOCLEAN          ║         ║       32 ║     01 ║ 23    ║\n║ AC_ADD_SETKWH             ║         ║       40 ║     01 ║ ff    ║\n║ AC_ADD_CLEAR_FILTER_ALARM ║         ║       44 ║     01 ║ f0    ║\n║ AC_ADD_STARTWPS           ║         ║       43 ║     01 ║ 0f    ║\n║ AC_ADD_SPI                ║         ║       75 ║     01 ║ f0    ║\n║ AC_OUTDOOR_TEMP           ║         ║       76 ║     01 ║ fe    ║\n║ AC_COOL_CAPABILITY        ║         ║       77 ║     02 ║ 0044  ║\n║ AC_WARM_CAPABILITY        ║         ║       78 ║     02 ║ 0050  ║\n╚═══════════════════════════╩═════════╩══════════╩════════╩═══════╝\n</code></pre>\n<h3><code>1304</code> Commands</h3>\n<ul>\n<li><code>06</code> Set Integer</li>\n</ul>\nAC_ADD_AUTOCLEAN\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ On  ║      06 ║       32 ║     01 ║    22 ║ 74010f ║\n║ Off ║      06 ║       32 ║     01 ║    23 ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_ADD_SETKWH\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ 0   ║      06 ║       40 ║     01 ║ 00    ║ 74010f ║\n║ …   ║         ║          ║        ║       ║        ║\n║ 255 ║      06 ║       40 ║     01 ║ ff    ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_ADD_CLEAR_FILTER_ALARM\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ 0   ║      06 ║       44 ║     01 ║ 00    ║ 74010f ║\n║ …   ║         ║          ║        ║       ║        ║\n║ 255 ║      06 ║       44 ║     01 ║ ff    ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_ADD_SPI\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║ On  ║      06 ║       75 ║     01 ║ 0f    ║ 74010f ║\n║ …   ║         ║          ║        ║       ║        ║\n║ Off ║      06 ║       75 ║     01 ║ f0    ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\nAC_ADD_APMODE_END\n<pre><code>╔═══╦═════════╦══════════╦════════╦═══════╦═════╗\n║   ║ command ║ register ║ length ║ value ║ end ║\n╠═══╬═════════╬══════════╬════════╬═══════╬═════╣\n║ … ║         ║          ║        ║       ║     ║\n╚═══╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_ADD_STARTWPS\n<pre><code>╔════════╦═════════╦══════════╦════════╦═══════╦═════╗\n║        ║ command ║ register ║ length ║ value ║ end ║\n╠════════╬═════════╬══════════╬════════╬═══════╬═════╣\n║ Direct ║ …       ║          ║        ║       ║     ║\n║ …      ║         ║          ║        ║       ║     ║\n╚════════╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_OUTDOOR_TEMP\n<pre><code>╔═══╦═════════╦══════════╦════════╦═══════╦═════╗\n║   ║ command ║ register ║ length ║ value ║ end ║\n╠═══╬═════════╬══════════╬════════╬═══════╬═════╣\n║ … ║         ║          ║        ║       ║     ║\n╚═══╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_COOL_CAPABILITY\n<pre><code>╔═══╦═════════╦══════════╦════════╦═══════╦═════╗\n║   ║ command ║ register ║ length ║ value ║ end ║\n╠═══╬═════════╬══════════╬════════╬═══════╬═════╣\n║ … ║         ║          ║        ║       ║     ║\n╚═══╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_WARM_CAPABILITY\n<pre><code>╔═══╦═════════╦══════════╦════════╦═══════╦═════╗\n║   ║ command ║ register ║ length ║ value ║ end ║\n╠═══╬═════════╬══════════╬════════╬═══════╬═════╣\n║ … ║         ║          ║        ║       ║     ║\n╚═══╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_ADD2_USEDWATT\n<pre><code>╔═══╦═════════╦══════════╦════════╦═══════╦═════╗\n║   ║ command ║ register ║ length ║ value ║ end ║\n╠═══╬═════════╬══════════╬════════╬═══════╬═════╣\n║ … ║         ║          ║        ║       ║     ║\n╚═══╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_ADD2_VERSION\n<pre><code>╔═══╦═════════╦══════════╦════════╦═══════╦═════╗\n║   ║ command ║ register ║ length ║ value ║ end ║\n╠═══╬═════════╬══════════╬════════╬═══════╬═════╣\n║ … ║         ║          ║        ║       ║     ║\n╚═══╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\n<h3><code>1402</code> Commands</h3>\n<p>When message received, Wifi module also respond:</p>\n<p>-&gt; <code>1404 0c1701 15180105190127fd0102</code>\n-&gt; <code>1404 12fa01 f8fb0104fc012ef701d8f8013ef901a0</code></p>\n<pre><code>╔═════════════════════════╦═════════╦══════════╦════════╦═══════════╗\n║                         ║ command ║ register ║ length ║  comment  ║\n╠═════════════════════════╬═════════╬══════════╬════════╬═══════════╣\n║ Multi_valued            ║      16 ║          ║        ║           ║\n║ AC_ADD2_USEDWATT        ║         ║ 32       ║     00 ║ ?         ║\n║ AC_ADD2_VERSION         ║         ║ f6       ║     00 ║ Confirmed ║\n║ AC_ADD2_PANEL_VERSION   ║         ║ f4       ║     00 ║ ?         ║\n║ AC_ADD2_OUT_VERSION     ║         ║ f3       ║     00 ║ ?         ║\n║ AC_FUN_MODEL            ║         ║ f5       ║     00 ║ ?         ║\n║ AC_ADD2_OPTIONCODE      ║         ║ 39       ║     00 ║ ?         ║\n║ AC_ADD2_USEDPOWER       ║         ║ e0       ║     00 ║ ?         ║\n║ AC_ADD2_USEDTIME        ║         ║ e4       ║     00 ║ ?         ║\n║ AC_ADD2_CLEAR_POWERTIME ║         ║ e8       ║     00 ║ ?         ║\n║ AC_ADD2_FILTERTIME      ║         ║ e9       ║     00 ║ ?         ║\n║ AC_ADD2_FILTER_USE_TIME ║         ║ e6       ║     00 ║ ?         ║\n╚═════════════════════════╩═════════╩══════════╩════════╩═══════════╝\n</code></pre>\n<h3><code>1403</code> Commands</h3>\n<p>From AC to Wifi. When message received, Wifi module also respond:</p>\n<p>-&gt; <code>1404 0c 170115180105190127fd0102</code> (Not decoded yet)</p>\n<p>-&gt; <code>1404 12 fa01f8fb0104fc012ef701d8f8013ef901a0</code></p>\n<pre><code>╔═════════════════════════╦═════════╦══════════╦════════╦══════════╦═════════════════════════════════════╗\n║                         ║ command ║ register ║ length ║  value   ║               comment               ║\n╠═════════════════════════╬═════════╬══════════╬════════╬══════════╬═════════════════════════════════════╣\n║ Multi_valued            ║ 2d      ║          ║        ║          ║                                     ║\n║ AC_ADD2_USEDWATT        ║         ║ 32       ║     01 ║ fe       ║                                     ║\n║ AC_ADD2_VERSION         ║         ║ f6       ║     01 ║ fe       ║                                     ║\n║ AC_ADD2_PANEL_VERSION   ║         ║ f4       ║     03 ║ 150224   ║ (Raw value in XML)                  ║\n║ AC_ADD2_OUT_VERSION     ║         ║ f3       ║     03 ║ 130709   ║ (Raw value in XML)                  ║\n║ AC_FUN_MODEL            ║         ║ f5       ║     01 ║ 05       ║                                     ║\n║ AC_ADD2_OPTIONCODE      ║         ║ 39       ║     02 ║ d0b8     ║                                     ║\n║ AC_ADD2_USEDPOWER       ║         ║ e0       ║     04 ║ 0000e635 ║                                     ║\n║ AC_ADD2_USEDTIME        ║         ║ e4       ║     04 ║ 00040dcb ║                                     ║\n║ AC_ADD2_CLEAR_POWERTIME ║         ║ e8       ║     01 ║ fe       ║                                     ║\n║ AC_ADD2_FILTERTIME      ║         ║ e9       ║     01 ║ 03       ║ (00:00 01:180 02:300 03:500 04:700) ║\n║ AC_ADD2_FILTER_USE_TIME ║         ║ e6       ║     02 ║ 2710     ║                                     ║\n╚═════════════════════════╩═════════╩══════════╩════════╩══════════╩═════════════════════════════════════╝\n</code></pre>\n<h3><code>1404</code> Commands</h3>\n<ul>\n<li><code>03</code> Notify</li>\n<li><code>06</code> Set Integer</li>\n<li><code>0c</code> Set Multi values</li>\n<li><code>12</code> Set Multi values</li>\n</ul>\nAC_SG_WIFI\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦═════╗\n║     ║ command ║ register ║ length ║ value ║ end ║\n╠═════╬═════════╬══════════╬════════╬═══════╬═════╣\n║ On  ║      03 ║       37 ║     01 ║ 0f    ║     ║\n║ Off ║      03 ║       37 ║     01 ║ f0    ║     ║\n╚═════╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_SG_INTERNET\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦═════╗\n║     ║ command ║ register ║ length ║ value ║ end ║\n╠═════╬═════════╬══════════╬════════╬═══════╬═════╣\n║ On  ║      03 ║       38 ║     01 ║ 0f    ║     ║\n║ Off ║      03 ║       38 ║     01 ║ f0    ║     ║\n╚═════╩═════════╩══════════╩════════╩═══════╩═════╝\n</code></pre>\nAC_ADD2_FILTERTIME\n<pre><code>╔═════╦═════════╦══════════╦════════╦═══════╦════════╗\n║     ║ command ║ register ║ length ║ value ║  end   ║\n╠═════╬═════════╬══════════╬════════╬═══════╬════════╣\n║   0 ║      06 ║ e9       ║     01 ║    00 ║ 74010f ║\n║ 180 ║      06 ║ e9       ║     01 ║    01 ║ 74010f ║\n║ 300 ║      06 ║ e9       ║     01 ║    02 ║ 74010f ║\n║ 500 ║      06 ║ e9       ║     01 ║    03 ║ 74010f ║\n║ 700 ║      06 ║ e9       ║     01 ║    04 ║ 74010f ║\n╚═════╩═════════╩══════════╩════════╩═══════╩════════╝\n</code></pre>\n<code>0c</code>\n<pre><code>╔══════════════╦═════════╦══════════╦════════╦═══════╗\n║              ║ command ║ register ║ length ║ value ║\n╠══════════════╬═════════╬══════════╬════════╬═══════╣\n║ Multi_valued ║ 0c      ║          ║        ║       ║\n║ ?            ║         ║ 17       ║     01 ║    15 ║\n║ ?            ║         ║ 18       ║     01 ║    05 ║\n║ ?            ║         ║ 19       ║     01 ║    27 ║\n║ ?            ║         ║ fd       ║     01 ║    02 ║\n╚══════════════╩═════════╩══════════╩════════╩═══════╝\n</code></pre>\n<code>12</code>\n<pre><code>╔════════════════╦═════════╦══════════╦════════╦═══════╗\n║                ║ command ║ register ║ length ║ value ║\n╠════════════════╬═════════╬══════════╬════════╬═══════╣\n║ Multi_valued   ║      12 ║          ║        ║       ║\n║ AC_SG_VENDER01 ║         ║ fa       ║     01 ║ f8    ║\n║ AC_SG_VENDER02 ║         ║ fb       ║     01 ║ 04    ║\n║ AC_SG_VENDER03 ║         ║ fc       ║     01 ║ 2e    ║\n║ AC_SG_MACHIGH  ║         ║ f7       ║     01 ║ d8    ║\n║ AC_SG_MACMID   ║         ║ f8       ║     01 ║ 3e    ║\n║ AC_SG_MACLOW   ║         ║ f9       ║     01 ║ a0    ║\n╚════════════════╩═════════╩══════════╩════════╩═══════╝\n</code></pre>\n</div>",
            "votes": "2",
            "user": "KumZ",
            "time": "Sep 2, 2020 at 10:00",
            "is_accepted": false,
            "comments": [
                {
                    "user": "KumZ",
                    "text": "<span class=\"comment-copy\">See most recent protocol version at <a href=\"https://github.com/kumy/samsung-ac-wifi-module/blob/master/protocol/README.md\" rel=\"nofollow noreferrer\">github.com/kumy/samsung-ac-wifi-module/blob/master/protocol/…</a></span>",
                    "time": null
                }
            ]
        }
    ]
}