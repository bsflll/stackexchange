{
    "title": "Twitter scraping using Python",
    "link": "https://reverseengineering.stackexchange.com/questions/27491/twitter-scraping-using-python",
    "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<p>I've been working on a project to reverse-enginner twitter's app to scrape public posts from Twitter using an unofficial API, with Python. (I want to create an \"alternative\" app, which is simply a localhost that can search for a user, and get its posts)</p>\n<p>I've been searching and reading everything related to REST, AJAX, and the python modules requests, requests-html, BeautifulSoup, and more.</p>\n<p>I can see when looking at twitter on the devtools (for example on Marvel's profile page) that the only relevant requests being sent (by POST and GET) are the following: client_event.json and UserTweets?variables=... .\nI understood that these are the relevant messages being received by cleaning the network tab and recording only when I scroll down and load new tweets - these are the only messages that came up which aren't random videos (I cleaned the search using -video -init -csp_report -config -ondemand -like -pageview -recommendations -prefetch -jot -key_live_kn -svg -jpg -jpeg -png -ico -analytics -loader -sharedCore -Hebrew).</p>\n<p>I am new to this field, so I am probably doing something wrong. I can see on UserTweets the response I'm looking for - a beautiful JSON with all the data I need - but I am unable, no matter how much I've been trying to, to access it.</p>\n<p>I tried different modules and different headers, and I get nothing. I DON'T want to use Selenium since it's tiresome, and I know where the data I need is stored.\n<a href=\"https://i.sstatic.net/cEm7d.png\" rel=\"nofollow noreferrer\"><img alt=\"The JSON I want\" src=\"https://i.sstatic.net/cEm7d.png\"/></a></p>\n<p>I've been trying to send a GET reuest to:\n<a href=\"https://twitter.com/i/api/graphql/vamMfA41UoKXUmppa9PhSw/UserTweets?variables=%7B%22userId%22%3A%2215687962%22%2C%22count%22%3A20%2C%22cursor%22%3A%22HBaIgLLN%2BKGEryYAAA%3D%3D%22%2C%22withHighlightedLabel%22%3Atrue%2C%22withTweetQuoteCount%22%3Atrue%2C%22includePromotedContent%22%3Atrue%2C%22withTweetResult%22%3Afalse%2C%22withUserResults%22%3Afalse%2C%22withVoice%22%3Afalse%2C%22withNonLegacyCard%22%3Atrue%7D\" rel=\"nofollow noreferrer\">https://twitter.com/i/api/graphql/vamMfA41UoKXUmppa9PhSw/UserTweets?variables=%7B%22userId%22%3A%2215687962%22%2C%22count%22%3A20%2C%22cursor%22%3A%22HBaIgLLN%2BKGEryYAAA%3D%3D%22%2C%22withHighlightedLabel%22%3Atrue%2C%22withTweetQuoteCount%22%3Atrue%2C%22includePromotedContent%22%3Atrue%2C%22withTweetResult%22%3Afalse%2C%22withUserResults%22%3Afalse%2C%22withVoice%22%3Afalse%2C%22withNonLegacyCard%22%3Atrue%7D</a></p>\n<p>by doing:</p>\n<pre><code>from requests_html import HTMLSession\nfrom bs4 import BeautifulSoup\n\nresponse = session.get('https://twitter.com/i/api/graphql/vamMfA41UoKXUmppa9PhSw/UserTweets?variables=%7B%22userId%22%3A%2215687962%22%2C%22count%22%3A20%2C%22cursor%22%3A%22HBaIgLLN%2BKGEryYAAA%3D%3D%22%2C%22withHighlightedLabel%22%3Atrue%2C%22withTweetQuoteCount%22%3Atrue%2C%22includePromotedContent%22%3Atrue%2C%22withTweetResult%22%3Afalse%2C%22withUserResults%22%3Afalse%2C%22withVoice%22%3Afalse%2C%22withNonLegacyCard%22%3Atrue%7D')\nresponse.html.render()\ns = BeautifulSoup(response.html.html, 'lxml')\n</code></pre>\n<p>but I get back an HTML script that either says Chromium is unsupported, or just a static page without the javascript updating the DOM.</p>\n<p>All help appreciated.</p>\n<p>Thank you</p>\n</div>",
    "votes": "2",
    "answers": 0,
    "views": "145",
    "tags": [
        "python",
        "networking",
        "websites"
    ],
    "user": "TripleS",
    "time": "Apr 17, 2021 at 7:26",
    "comments": [],
    "answers_data": []
}