{
    "title": "Open unknown image format (probably a RAW image)",
    "link": "https://reverseengineering.stackexchange.com/questions/27688/open-unknown-image-format-probably-a-raw-image",
    "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<p>I copy image files here from a linux based system which ends with .bin.</p>\n<p>Unfortunately I don't know how to open it. The goal is to convert images to this format later.</p>\n<p><strong>What I have already tried:</strong></p>\n<ul>\n<li>Open the File with a RAW image Viewer <em><strong>(was not successful)</strong></em>.</li>\n<li>looked at the files with the Hex Editor to find out information about the structure <em><strong>(was not successful)</strong></em>.</li>\n<li>to make sure that these are the images from the menu, I swapped 2 files with each other (swap the file name) <em><strong>(has worked)</strong></em>.</li>\n</ul>\n<p><em><strong>This is how it looks on the device:</strong></em></p>\n<p><a href=\"https://i.sstatic.net/N9kg3.png\" rel=\"nofollow noreferrer\"><img alt=\"enter image description here\" src=\"https://i.sstatic.net/N9kg3.png\"/></a></p>\n<p><strong>I have uploaded the two files here.</strong></p>\n<p><a href=\"https://drive.google.com/file/d/1WXbuqT7B-_1OdHZjScmWMKHKxfEUzta7/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1WXbuqT7B-_1OdHZjScmWMKHKxfEUzta7/view?usp=sharing</a> <a href=\"https://drive.google.com/file/d/1YN_TbwWevuNQ3_Ha6MikOA_5JX8h1Pu1/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1YN_TbwWevuNQ3_Ha6MikOA_5JX8h1Pu1/view?usp=sharing</a></p>\n<p><em><strong>--UPDATE--</strong></em></p>\n<p><strong>//---------------------------------------------------------------//</strong></p>\n<p><em><strong>Here I have cloned some other flags from the device:</strong></em></p>\n<p>Espanol:</p>\n<p><a href=\"https://drive.google.com/file/d/18FE-nT7DMDmNvPtT3lMzARdjcUItpUSu/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/18FE-nT7DMDmNvPtT3lMzARdjcUItpUSu/view?usp=sharing</a></p>\n<p>English:</p>\n<p><a href=\"https://drive.google.com/file/d/1Qqr-ZKyT1M5ichLXBKRRBJzxaPDEpSGg/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1Qqr-ZKyT1M5ichLXBKRRBJzxaPDEpSGg/view?usp=sharing</a></p>\n<p>Portugues:</p>\n<p><a href=\"https://drive.google.com/file/d/13DYM1-Di7bI_KXvT4Eo9zC6x-jIwX0jX/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/13DYM1-Di7bI_KXvT4Eo9zC6x-jIwX0jX/view?usp=sharing</a></p>\n<p><em><strong>Here also two random pictures of the GUI:</strong></em></p>\n<p><a href=\"https://drive.google.com/file/d/1oulgopsKGIkpUQ12_94twBaNlVkToKxI/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1oulgopsKGIkpUQ12_94twBaNlVkToKxI/view?usp=sharing</a>\n<a href=\"https://drive.google.com/file/d/1E9Tx2S86tP2B_z84Fe_6LWO-RZxSEVtD/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1E9Tx2S86tP2B_z84Fe_6LWO-RZxSEVtD/view?usp=sharing</a></p>\n<p>This should be these images (once highlighted and once normal):</p>\n<p><a href=\"https://i.sstatic.net/AZtaV.jpg\" rel=\"nofollow noreferrer\"><img alt=\"Station Logo 01\" src=\"https://i.sstatic.net/AZtaV.jpg\"/></a></p>\n<p><a href=\"https://i.sstatic.net/pkFAY.jpg\" rel=\"nofollow noreferrer\"><img alt=\"Station Logo 02\" src=\"https://i.sstatic.net/pkFAY.jpg\"/></a></p>\n<p><strong>//---------------------------------------------------------------//</strong></p>\n<p><strong>Here are 2 copies of the 2 files from a hex editor</strong></p>\n<p><em>img_togglelanguage_ru_ovg.bin:</em></p>\n<pre><code>FF FF FF FF 00 FF FF FF FF 00 E2 FF FF FF 00 01 1A 1A 1A 2D 1A 1A 1A C3 99 1A 1A 1A FF 01 1A 1A 1A C0 1A 1A 1A 2D 88 FF FF FF 00 00 1A 1A 1A CF 9B 1A 1A 1A FF 00 1A 1A 1A CF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF FF FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF FF FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF FF FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF FF FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF FF FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 FF FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 00 1A 1A 1A D2 9B 1A 1A 1A FF 00 1A 1A 1A CF 88 FF FF FF 00 01 1A 1A 1A 39 1A 1A 1A D2 99 1A 1A 1A FF 01 1A 1A 1A C9 1A 1A 1A 2D FF FF FF FF 00 FF FF FF FF 00 E3 FF FF FF 00\n</code></pre>\n<p><em>img_togglelanguage_de_ovg.bin:</em></p>\n<pre><code>FF FF FF FF 00 FF FF FF FF 00 E2 FF FF FF 00 01 1A 1A 1A 2D 1A 1A 1A C3 99 1A 1A 1A FF 01 1A 1A 1A C0 1A 1A 1A 2D 88 FF FF FF 00 00 1A 1A 1A CF 9B 1A 1A 1A FF 00 1A 1A 1A CF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 00 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 DE 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 DE 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 DE 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 DE 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 DE 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 DE 00 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF CF 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF CF 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF CF 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF CF 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF CF 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 81 1A 1A 1A FF 99 FF CF 00 FF 81 1A 1A 1A FF 88 FF FF FF 00 00 1A 1A 1A D2 9B 1A 1A 1A FF 00 1A 1A 1A CF 88 FF FF FF 00 01 1A 1A 1A 39 1A 1A 1A D2 99 1A 1A 1A FF 01 1A 1A 1A C9 1A 1A 1A 2D FF FF FF FF 00 FF FF FF FF 00 E3 FF FF FF 00\n</code></pre>\n<p>Maybe someone knows more than me.</p>\n</div>",
    "votes": "0",
    "answers": 2,
    "views": "670",
    "tags": [
        "binary-analysis",
        "file-format",
        "binary",
        "binary-diagnosis",
        "binary-editing"
    ],
    "user": "Alonia",
    "time": "May 29, 2021 at 10:23",
    "comments": [
        {
            "user": "Ian Cook",
            "text": "<span class=\"comment-copy\">To get answers it helps to (a) tell us what you've already tried, (b) don't use images for hexdumps, use text, and (c) share what you know about the images already (e.g. sizes) or even the images themselves.</span>",
            "time": null
        },
        {
            "user": "Alonia",
            "text": "<span class=\"comment-copy\">@IanCook  I made a few changes to my question, thanks for pointing it out.</span>",
            "time": null
        },
        {
            "user": "Robert",
            "text": "<span class=\"comment-copy\">For an unknown file the first action should be to execute the Linux tool <code>file</code> on it.</span>",
            "time": null
        }
    ],
    "answers_data": [
        {
            "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<p>Based on those images, this appears to be a fairly straight-forward run-length encoded 32-bits-per-pixel bitmap format.\nThe general structure seems to consist of number of records each with a single 'tag' byte followed by a multiple of 4 bytes of RGBA data.  These records appear to encapsulate pixel data only, with no dimensions or other metadata.</p>\n<p>The structure of these pixel records appears to be as follows -</p>\n<pre><code>tag  data\nbyte bytes\n==== ===========\n// literal pixel records\n 00  RR GG BB AA                      =&gt; specifies colour of the next single RGBA pixel \n 01  RR GG BB AA  RR GG BB AA         =&gt; specifies colours of the next 2 RGBA pixels\n 02  RR GG BB AA  RR GG BB AA  .. etc =&gt; specifies colours of the next 3 RGBA pixels\n 03  ..\n ..\n 19  RR GG BB AA  RR GG BB AA  .. etc =&gt; specifies colours of the next 26 RGBA pixels\n ..\n// run-length encoded pixel records\n 81  RR GG BB AA              =&gt; colour RGBA is used for the next 2 pixels\n 82  RR GG BB AA              =&gt; colour RGBA is used for the next 3 pixels\n 83  RR GG BB AA              =&gt; colour RGBA is used for the next 4 pixels\n ...\n 88  RR GG BB AA              =&gt; colour RGBA is used for the next 9 pixels\n ...\n 99  RR GG BB AA              =&gt; colour RGBA is used for the next 26 pixels    \n 9A  RR GG BB AA              =&gt; colour RGBA is used for the next 27 pixels    \n 9B  RR GG BB AA              =&gt; colour RGBA is used for the next 28 pixels    \n ...\n E2  RR GG BB AA              =&gt; colour RGBA is used for the next 99 pixels \n ...   \n FF  RR GG BB AA              =&gt; colour RGBA is used for the next 128 pixels    \n</code></pre>\n<p>The image dimensions need to worked out by inspection.\nThe flag images you provided are all 39 x 39.\nThe other 2 images have dimensions 172x207 and 148x186.\nThe flag images especially have borders and do use the RGBA alpha channel.</p>\n<hr/>\n<p>Here's what the images look like -</p>\n<p><a href=\"https://i.sstatic.net/mVXqb.png\" rel=\"nofollow noreferrer\"><img alt=\"img_togglelanguage_de_ovg\" src=\"https://i.sstatic.net/mVXqb.png\"/></a><a href=\"https://i.sstatic.net/ZxnEj.png\" rel=\"nofollow noreferrer\"><img alt=\"img_togglelanguage_ru_ovg\" src=\"https://i.sstatic.net/ZxnEj.png\"/></a><a href=\"https://i.sstatic.net/WmvKD.png\" rel=\"nofollow noreferrer\"><img alt=\"img_togglelanguage_br_ovg\" src=\"https://i.sstatic.net/WmvKD.png\"/></a><a href=\"https://i.sstatic.net/PDpVY.png\" rel=\"nofollow noreferrer\"><img alt=\"img_togglelanguage_mex_ovg\" src=\"https://i.sstatic.net/PDpVY.png\"/></a><a href=\"https://i.sstatic.net/0PpB8.png\" rel=\"nofollow noreferrer\"><img alt=\"img_togglelanguage_eu_ovg\" src=\"https://i.sstatic.net/0PpB8.png\"/></a></p>\n<p><a href=\"https://i.sstatic.net/Pyjai.png\" rel=\"nofollow noreferrer\"><img alt=\"img_btn_tuner_main_preset_01_a_bg_ovg\" src=\"https://i.sstatic.net/Pyjai.png\"/></a><a href=\"https://i.sstatic.net/qRnO1.png\" rel=\"nofollow noreferrer\"><img alt=\"img_btn_tuner_main_preset_01_p_bg_ovg\" src=\"https://i.sstatic.net/qRnO1.png\"/></a></p>\n</div>",
            "votes": "3",
            "user": "Ian Cook",
            "time": "Jun 1, 2021 at 11:30",
            "is_accepted": true,
            "comments": [
                {
                    "user": "Alonia",
                    "text": "<span class=\"comment-copy\">I have edited my post and uploaded a few more files that I just cloned from the device. Also copied and uploaded some other menu images. These should also be larger than the flags.</span>",
                    "time": null
                },
                {
                    "user": "Alonia",
                    "text": "<span class=\"comment-copy\">I still can't figure out what the E2 or E3 does. The other additional files I uploaded look completely different.</span>",
                    "time": null
                },
                {
                    "user": "Ian Cook",
                    "text": "<span class=\"comment-copy\">I've updated the answer based on the additional images.</span>",
                    "time": null
                }
            ]
        },
        {
            "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<p>I've further looked at this format and made a decoder here:</p>\n<p><a href=\"https://github.com/cr3ative/rcd_330g_logo_utilities/blob/master/ovg_to_png.py\" rel=\"nofollow noreferrer\">https://github.com/cr3ative/rcd_330g_logo_utilities/blob/master/ovg_to_png.py</a></p>\n<p>The <code>tag</code> byte Ian describes in the other answer is detailed here:</p>\n<p><a href=\"https://www.nxp.com.cn/docs/en/application-note/AN4339.pdf\" rel=\"nofollow noreferrer\">https://www.nxp.com.cn/docs/en/application-note/AN4339.pdf</a></p>\n<p><a href=\"https://i.sstatic.net/i28xL.png\" rel=\"nofollow noreferrer\"><img alt=\"enter image description here\" src=\"https://i.sstatic.net/i28xL.png\"/></a></p>\n</div>",
            "votes": "0",
            "user": "Paul Curry",
            "time": "Jun 22, 2021 at 17:46",
            "is_accepted": false,
            "comments": [
                {
                    "user": "Ian Cook",
                    "text": "<span class=\"comment-copy\">Good find on that NXP Application Note!</span>",
                    "time": null
                }
            ]
        }
    ]
}