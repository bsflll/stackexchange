{
    "title": "How to decode a bluetooth package from PH bluetooth meter",
    "link": "https://reverseengineering.stackexchange.com/questions/31062/how-to-decode-a-bluetooth-package-from-ph-bluetooth-meter",
    "content": "<div class=\"s-prose js-post-body\" itemprop=\"text\">\n<p>I'm trying to perform some Bluetooth reverse engineering with a PH/ORP/TEMP probe.</p>\n<p>I know where the data comes, but I don't know how to translate it.\nThe probe shows these values in its Android app:</p>\n<pre><code>ID  Model Name  Date    EC  EC(Unit)    TDS TDS(Unit)   SALT(%) SALT(TDS)   SALT(TDS)(Unit) SALT(S.G.)  pH  Humidity(%) ORP(mV) H2(ppb) H2(ppm) DO(mg/L)    DO(%)   CF  CL(mg/L)    Temperature(°C) Temperature(°F) Location    Notes\n1   BLE-C600    2022-06-16 12:54:44 110 μS/cm   55  ppm 0.0 55  ppm 0.999   8.56    -   141 -   -   -   -   -   -   26.0    78.8    Madrid  \n</code></pre>\n<p>The wireshark show this:</p>\n<pre><code>&gt; Bluetooth Attribute Protocol\n    Opcode: Read Response (0x0b)\n        0... .... = Authentication Signature: False\n        .0.. .... = Command: False\n        ..00 1011 = Method: Read Response (0x0b)\n    [Handle: 0x0026 (Unknown: Unknown)]\n        [Service UUID: Unknown (0xff01)]\n        [UUID: Unknown (0xff02)]\n    Value: ffa9fc5afe73ffc0ffc4ffeefdf7fd7ffabc65fea4ddbb55\n    [Request in Frame: 4765]\n</code></pre>\n<p>No idea how to match <code>ffa9fc5afe73ffc0ffc4ffeefdf7fd7ffabc65fea4ddbb55</code> with the value received.</p>\n<p>Update:</p>\n<p>I think where the PH value is, but I don't know how the translation is performed. It could be the second pair of bytes.\nBellow, all the data gathered until now and its hex received:</p>\n<pre><code>5,17    6,95    7,3     7,39    7,4    7,43     7,43    7,46    7,46    7,47    7,5     7,52    7,53    7,53    7,53    7,54    7,56    7,56    7,58    7,59    7,59    7,59    7,64    7,68    7,68    7,68    7,68    7,68    7,71    7,72    8,56\nfef0    fed0    fe5a    fe78    fe72    fe70    fe70    fe7a    fe7a    fe78    fe72    fe5a    fe58    fe58    fe58    fe5a    fe52    fe52    fe52    fe50    fe50    fe50    fe52    fcfa    fcfa    fcfa    fcfa    fcfa    fcf8    fcf2    fc5a\n</code></pre>\n<p>I would bet also that Temperature is in the 14th position:\nSome reading below:</p>\n<pre><code>22,3ºC ff a9 fe 50 fe fe ff ff ff ff ff ff ff 55 ff 98 fb ad 65 fc 8c f7 54 ff\n22,4ºC ff a9 fe 52 fe ee ff ff ff ff ff ff ff 7f ff a7 fb ac 65 fe 0e 7f aa 55\n22,4ºC ff a9 fe 50 fe fb ff ff ff ff ff ff ff 7f ff af fb ac 65 fe 0c ff 51 ff\n22,3ºC ff a9 fe d0 fe fe ff ff ff ff ff ff ff 55 ff b8 fb ad 65 fc 2c 75 41 ff\n22,3ºC ff a9 fe d0 fe fe ff ff ff ff ff ff ff 55 ff 92 fb b9 65 fc ae 7d 15 00\n22,4ºC ff a9 fe 5a fe aa ff ff ff ff ff ff ff 7f ff 8d fb b9 65 fe a4 dd 10 ff\n22,4ºC ff a9 fe d0 fe fb ff ff ff ff ff ff ff 7f ff 87 fb bc 65 fc 2e 55 fe 55\n22,4ºC ff a9 fe 78 fe ee ff ff ff ff ff ff ff 7f ff 8f fb bd 65 fe 24 57 01 ff\n22,3ºC ff a9 fe f0 fe fa ff ff ff ff ff ff ff 55 ff b2 fb b8 65 fc 8c f5 ba 55\n</code></pre>\n<p>But no idea how to translate it.</p>\n</div>",
    "votes": "3",
    "answers": 0,
    "views": "66",
    "tags": [
        "bluetooth"
    ],
    "user": "pirracas77",
    "time": "Nov 7, 2022 at 11:07",
    "comments": [],
    "answers_data": []
}